(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(e,t,n){e.exports=n.p+"static/media/sad_face_grey.391e5c2b.png"},197:function(e,t,n){e.exports=n.p+"static/media/gesbank_logo.d8e4f43c.png"},216:function(e,t,n){e.exports=n.p+"static/media/ibt_logo.c6af17ac.png"},261:function(e,t,n){e.exports=n(455)},455:function(e,t,n){"use strict";n.r(t);var a=n(30),r=n(128),i=n(0),o=n.n(i),s=n(37),l=n.n(s),c=n(10),u=n(11),E=n(14),d=n(13),m=n(15),p=n(21),g=n.n(p),R=n(196),S=n.n(R);function T(e){return e.displayName||e.name||"[anonymous]"}var h={maxWidth:"700px",margin:"auto",padding:"12vmin 16px"},b={width:"200px",paddingBottom:"24px",display:"block",margin:"auto"};function O(e){var t,n;return n=t=function(t){function n(e){var t;return Object(c.a)(this,n),(t=Object(E.a)(this,Object(d.a)(n).call(this,e))).state={errorReceived:!1,error:null,faultyComponentName:""},t}return Object(m.a)(n,t),Object(u.a)(n,[{key:"componentDidCatch",value:function(e,t){var n,a=(n=t.componentStack).slice(0,n.indexOf("\n",1)).trim().split(" ")[1];console.error("".concat(e.name," occurred during ").concat(a," rendering, stack trace:"),t.componentStack),this.setState({faultyComponentName:a})}},{key:"render",value:function(){var t=this.state,n=t.errorReceived,a=t.error,r=t.faultyComponentName;return n?o.a.createElement("div",{style:h},o.a.createElement("img",{alt:"Sad face",src:S.a,style:b}),o.a.createElement(g.a,{align:"center",variant:"h2",paragraph:!0},"Oops!"),o.a.createElement(g.a,{align:"center",variant:"subtitle1",paragraph:!0},"Si \xe8 verificato un errore imprevisto durante il caricamento della schermata.",o.a.createElement("br",null),"Segnalaci il problema riportando le informazioni sottostanti:"),o.a.createElement(g.a,{style:{paddingLeft:"20%"},variant:"body2"},o.a.createElement("b",null,"Route corrente:")," ",window.location.hash,o.a.createElement("br",null),o.a.createElement("b",null,"Componente in cui \xe8 avvenuto l'errore:")," ",r,o.a.createElement("br",null),o.a.createElement("b",null,"Tipo dell'errore:")," ",a.name,o.a.createElement("br",null),o.a.createElement("b",null,"Messaggio:")," ",a.message,o.a.createElement("br",null),o.a.createElement("i",null,"(maggiori dettagli visibili nella console sviluppatore)"))):o.a.createElement(e,this.props)}}],[{key:"getDerivedStateFromError",value:function(e){return{errorReceived:!0,error:e}}}]),n}(o.a.Component),t.displayName="WithErrorBoundary(".concat(T(e),")"),n}var f="https://aum.altervista.org/main.php",C="token",v=8e3,I=5e3,A=20,_={COMMITS:"commits",SEND_REQUESTS:"sendRequests",CLIENTS:"clients",BRANCHES:"branches"},L={ADD:"add",LIST:"list",SHORT_LIST:"shortList",UPDATE:"update",REMOVE:"remove"},y={LOGIN:"auth/login",LOGOUT:"auth/logout",VALIDATE_TOKEN:"auth/validateToken",GET_USER_INFO:"user/info"},N={MISSING_TOKEN:"ERROR_GLOBAL_MISSING_TOKEN",INVALID_TOKEN:"ERROR_GLOBAL_INVALID_TOKEN",INVALID_CREDENTIALS:"ERROR_LOGIN_INVALID_CREDENTIALS",INVALID_REQUEST:"ERROR_GLOBAL_INVALID_REQUEST",REQUEST_NOT_JSON:"ERROR_REQUEST_NOT_JSON",UNAUTHORIZED:"ERROR_GLOBAL_UNAUTHORIZED",DB_ERROR:"ERROR_GLOBAL_DB",NOT_IMPLEMENTED:"ERROR_GLOBAL_NOT_IMPLEMENTED",USER_NOT_FOUND:"ERROR_USER_NOT_FOUND",INVALID_ID:"ERROR_INVALID_ID",LIST_INVALID_PARAMETER:"ERROR_LIST_INVALID_PARAMETER",REMOVE_COMMIT_ALREADY_INCLUDED:"ERROR_REMOVE_COMMIT_ALREADY_INCLUDED",REMOVE_ALREADY_APPROVED:"ERROR_REMOVE_ALREADY_APPROVED",APPROVE_ALREADY_APPROVED:"ERROR_APPROVE_ALREADY_APPROVED",SEND_NOT_APPROVED:"ERROR_SEND_NOT_APPROVED",INSTALL_NOT_SENT:"ERROR_INSTALL_PATCH_NOT_SENT",SERVER_IN_MAINTENANCE:"ERROR_SRV_IN_MAINTENANCE"};var D=n(32),k=n(219),M=n(8),w=n(6),P={LOGIN_REQUESTED:"LOGIN_REQUESTED",LOGIN_SUCCESSFUL:"LOGIN_SUCCESSFUL",LOGIN_FAILED:"LOGIN_FAILED",LOGOUT:"LOGOUT",SESSION_EXPIRED:"SESSION_EXPIRED",LOCAL_TOKEN_NOT_FOUND:"LOCAL_TOKEN_NOT_FOUND",TOKEN_VALIDATION_REQUESTED:"TOKEN_VALIDATION_REQUESTED",TOKEN_VALIDATION_SUCCESSFUL:"TOKEN_VALIDATION_SUCCESSFUL",TOKEN_VALIDATION_FAILED:"TOKEN_VALIDATION_FAILED"};function U(e,t){return{type:P.LOGIN_REQUESTED,username:e,password:t}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:P.LOGOUT,accessToken:e}}function F(e){return{type:P.TOKEN_VALIDATION_REQUESTED,accessToken:e}}var x={accessToken:null,isAttemptingLogin:!1,isValidatingToken:!1,isSessionExpired:!1};var V={SAGA_ERROR:"SAGA_ERROR"},G=null;var B,q,H={PROGRAMMER:1,TECHNICAL_AREA_MANAGER:2,REVISION_OFFICE_MANAGER:3,CLIENT:4},Q=[null,"programmer","technicalAreaManager","revisionOfficeManager","client"],K=n(42),W={ID:"id",TITLE:"title",DESCRIPTION:"description",COMPONENTS:"components",TIMESTAMP:"timestamp",UPDATE_TIMESTAMP:"update_timestamp",AUTHOR:"author",APPROVAL_STATUS:"approval_status",APPROVER:"approver",BRANCH:"branch"},Y={LINKED_COMMITS:"commits",RECIPIENT_CLIENTS:"clients",INSTALL_LINK:"install_link",INSTALL_TYPE:"install_type",INSTALL_TIMESTAMP:"install_timestamp",INSTALL_STATUS:"install_status",INSTALL_FEEDBACK:"install_comment",DELIVERY_TIMESTAMP:"send_timestamp",CLIENT_REPRESENTATIVES:"resp"},z=(B={},Object(M.a)(B,W.ID,"ID"),Object(M.a)(B,W.TITLE,"Titolo"),Object(M.a)(B,W.DESCRIPTION,"Descrizione"),Object(M.a)(B,W.COMPONENTS,"Componenti"),Object(M.a)(B,W.TIMESTAMP,"Data creazione"),Object(M.a)(B,W.UPDATE_TIMESTAMP,"Data revisione"),Object(M.a)(B,W.AUTHOR,"Autore"),Object(M.a)(B,W.APPROVAL_STATUS,"Approvato"),Object(M.a)(B,W.APPROVER,"Approvato da"),Object(M.a)(B,W.BRANCH,"Branch"),Object(M.a)(B,Y.LINKED_COMMITS,"Commit inclusi"),Object(M.a)(B,Y.RECIPIENT_CLIENTS,"Clienti destinatari"),Object(M.a)(B,Y.INSTALL_LINK,"Link di installazione"),Object(M.a)(B,Y.INSTALL_TIMESTAMP,"Data di installazione"),Object(M.a)(B,Y.INSTALL_TYPE,"Tipo di installazione"),Object(M.a)(B,Y.INSTALL_STATUS,"Installazione effettuata"),Object(M.a)(B,Y.INSTALL_FEEDBACK,"Feedback post-installazione"),Object(M.a)(B,Y.DELIVERY_TIMESTAMP,"Inviato il"),Object(M.a)(B,Y.CLIENT_REPRESENTATIVES,"Referenti interni"),B),X={DURING_EXECUTION:0,NEEDS_SHUTDOWN:1},J={DURING_EXECUTION:"A caldo",NEEDS_SHUTDOWN:"A freddo"},Z={INSTALL_FAILED:-1,NOT_YET_INSTALLED:0,INSTALL_SUCCESS:1},$={DELIVERED:2,APPROVED:1,PENDING:0,REJECTED:-1},ee=(q={},Object(M.a)(q,$.DELIVERED,"Inviato"),Object(M.a)(q,$.APPROVED,"Approvato"),Object(M.a)(q,$.PENDING,"In attesa"),Object(M.a)(q,$.REJECTED,"Rifiutato"),q);function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!=e&&""!==e?{attribute:W.TITLE,valueMatches:e}:t}function ne(e){return e.attribute===te("Test query").attribute}function ae(){return{attribute:W.APPROVAL_STATUS,valueDifferentFrom:$.PENDING}}function re(){return{attribute:W.APPROVAL_STATUS,valueMatches:$.PENDING}}function ie(){return{attribute:W.APPROVAL_STATUS,valueDifferentFrom:$.DELIVERED}}function oe(){return{attribute:W.APPROVAL_STATUS,valueMatches:$.DELIVERED}}function se(){return{attribute:Y.INSTALL_STATUS,valueMatches:Z.NOT_YET_INSTALLED}}function le(){return{attribute:Y.INSTALL_STATUS,valueDifferentFrom:Z.NOT_YET_INSTALLED}}var ce={PAGE_REQUEST:"PAGE_REQUEST",PAGE_RETRIEVAL_ERROR:"PAGE_LOADING_ERROR",PAGE_RETRIEVED_FROM_SERVER:"PAGE_LOADED",NO_RETRIEVAL_NEEDED:"NO_RETRIEVAL_NEEDED",UPDATE_RECEIVED:"UPDATE_RECEIVED",UPDATE_CHECKING_ERROR:"UPDATE_CHECKING_ERROR",START_AUTO_CHECKING:"START_AUTO_CHECKING",STOP_AUTO_CHECKING:"STOP_AUTO_CHECKING",SEARCH_QUERY_CHANGED:"SEARCH_QUERY_CHANGED"};function ue(e,t){return{type:ce.SEARCH_QUERY_CHANGED,elementType:e.elementType,userRoleString:e.userRoleString,pageNumber:0,limit:e.limit,sortingCriteria:e.sortingCriteria,filter:te(t)}}var Ee,de,me,pe={listPages:[],latestUpdateTimestamp:0,totalItemsCount:0,isLoadingList:!0,errorWhileFetchingData:!1};function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.SEARCH_QUERY_CHANGED:case ce.PAGE_REQUEST:return Object(w.a)({},e,{errorWhileFetchingData:!1,isLoadingList:!0});case ce.PAGE_RETRIEVED_FROM_SERVER:var n=Object(w.a)({},e,{isLoadingList:!1,totalItemsCount:t.serverResponse.count_total});return n.listPages=Object(K.a)(e.listPages),null==n.listPages[t.pageNumber]&&(n.listPages[t.pageNumber]={}),n.listPages[t.pageNumber].data=t.serverResponse.list,n.listPages[t.pageNumber].sorting=t.sortingCriteria,n.listPages[t.pageNumber].filter=t.filter,n.listPages[t.pageNumber].updateTimestamp=n.latestUpdateTimestamp,n;case ce.PAGE_RETRIEVAL_ERROR:return Object(w.a)({},e,{errorWhileFetchingData:!0,isLoadingList:!1});case ce.NO_RETRIEVAL_NEEDED:return Object(w.a)({},e,{isLoadingList:!1});case ce.UPDATE_RECEIVED:return Object(w.a)({},e,{latestUpdateTimestamp:t.latestUpdateTimestamp});case ce.STOP_AUTO_CHECKING:return Object(w.a)({},e,{isLoadingList:!0});case P.LOGOUT:return Object(w.a)({},pe);default:return e}}var Re=(me={},Object(M.a)(me,H.PROGRAMMER,(Ee={},Object(M.a)(Ee,_.COMMITS,void 0),Object(M.a)(Ee,_.SEND_REQUESTS,void 0),Ee)),Object(M.a)(me,H.TECHNICAL_AREA_MANAGER,(de={},Object(M.a)(de,_.COMMITS,void 0),Object(M.a)(de,_.SEND_REQUESTS,void 0),de)),Object(M.a)(me,H.REVISION_OFFICE_MANAGER,Object(M.a)({},_.SEND_REQUESTS,void 0)),Object(M.a)(me,H.CLIENT,Object(M.a)({},_.SEND_REQUESTS,void 0)),me);var Se={GET_CURRENT_USER_INFO_REQUEST:"GET_CURRENT_USER_INFO_REQUEST",GET_CURRENT_USER_INFO_SUCCESSFUL:"GET_CURRENT_USER_INFO_SUCCESSFUL",GET_CURRENT_USER_INFO_FAILED:"GET_CURRENT_USER_INFO_FAILED"};function Te(e){return{type:Se.GET_CURRENT_USER_INFO_REQUEST,accessToken:e}}var he={id:null,name:null,area:null,email:null,roles:[],infoObtained:!1,serverError:!1};var be,Oe={REVIEW_ITEM_REQUEST:"TECH_AREA_REVIEW_ITEM_REQUEST",REVIEW_ITEM_FAILED:"TECH_AREA_REVIEW_ITEM_FAILED",REVIEW_ITEM_SUCCESSFUL:"TECH_AREA_REVIEW_ITEM_SUCCESSFUL",RESET_UI:"TECH_AREA_RESET_UI"};function fe(e,t,n){return{type:Oe.REVIEW_ITEM_REQUEST,elementType:e,elementId:t,approvalStatus:n}}var Ce={reviewInProgress:[],successfullyReviewed:{},reviewFailed:{}},ve=(be={},Object(M.a)(be,_.COMMITS,Object(w.a)({},Ce)),Object(M.a)(be,_.SEND_REQUESTS,Object(w.a)({},Ce)),be);var Ie={ELEMENT_DELIVERY_REQUEST:"REV_OFFICE_ELEMENT_DELIVERY_REQUEST",ELEMENT_DELIVERY_SUCCESSFUL:"REV_OFFICE_ELEMENT_DELIVERY_SUCCESSFUL",ELEMENT_DELIVERY_FAILED:"REV_OFFICE_ELEMENT_DELIVERY_FAILED",RESET_FAILED_DELIVERY_FLAG:"REV_OFFICE_RESET_FAILED_DELIVERY_FLAG",RESET_UI:"REV_OFFICE_RESET_UI"};function Ae(e,t){return{type:Ie.ELEMENT_DELIVERY_REQUEST,elementId:e,installLink:t}}var _e={successfullyDeliveredElements:[],isDeliveringElement:!1,lastDeliveryFailed:!1};var Le={ADD_ELEMENT_REQUEST:"PROGRAMMER_ADD_ELEMENT_REQUEST",ADD_ELEMENT_SUCCESSFUL:"PROGRAMMER_ADD_ELEMENT_SUCCESSFUL",ADD_ELEMENT_FAILED:"PROGRAMMER_ADD_ELEMENT_FAILED",REMOVE_ELEMENT_REQUEST:"PROGRAMMER_REMOVE_ELEMENT_REQUEST",REMOVE_ELEMENT_SUCCESSFUL:"PROGRAMMER_REMOVE_ELEMENT_SUCCESSFUL",REMOVE_ELEMENT_FAILED:"PROGRAMMER_REMOVE_ELEMENT_FAILED",GET_SHORT_LIST_REQUEST:"PROGRAMMER_GET_SHORT_LIST_REQUEST",GET_SHORT_LIST_SUCCESSFUL:"PROGRAMMER_GET_SHORT_LIST_SUCCESSFUL",GET_SHORT_LIST_FAILED:"PROGRAMMER_GET_SHORT_LIST_FAILED",RESET_UI_STATE:"PROGRAMMER_RESET_UI_STATE"};function ye(e,t){return{type:Le.ADD_ELEMENT_REQUEST,elementType:e,payload:t}}function Ne(e,t){return{type:Le.REMOVE_ELEMENT_REQUEST,elementType:e,elementId:t}}function De(e){return{type:Le.GET_SHORT_LIST_REQUEST,elementType:e}}function ke(){return{type:Le.RESET_UI_STATE}}var Me={isRemovingElement:!1,removedElementsIds:[],isAddingElement:!1,isAdditionSuccessful:!1,isAdditionFailed:!1,isLoadingClients:!1,allClients:[],isLoadingBranches:!1,allBranches:[],isLoadingCommits:!1,allCommits:[]};function we(e,t,n){switch(t){case _.CLIENTS:return Object(w.a)({},e,{isLoadingClients:n,allClients:[]});case _.BRANCHES:return Object(w.a)({},e,{isLoadingBranches:n,allBranches:[]});case _.COMMITS:return Object(w.a)({},e,{isLoadingCommits:n,allCommits:[]})}}var Pe={SEND_FEEDBACK_REQUEST:"CLIENT_SEND_FEEDBACK_REQUEST",SEND_FEEDBACK_SUCCESSFUL:"CLIENT_SEND_FEEDBACK_SUCCESSFUL",SEND_FEEDBACK_FAILED:"CLIENT_SEND_FEEDBACK_FAILED",RESET_FAILED_FEEDBACK_FLAG:"CLIENT_RESET_FAILED_FEEDBACK_FLAG",RESET_UI:"CLIENT_RESET_UI"};function Ue(e,t,n){return{type:Pe.SEND_FEEDBACK_REQUEST,elementId:e,installStatus:t,installFeedback:n}}var je,Fe={successfullySentFeedbackForElements:[],isSendingFeedback:!1,lastFeedbackFailed:!1};var xe=Object(D.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.LOGIN_REQUESTED:return Object(w.a)({},e,{isAttemptingLogin:!0});case P.LOGIN_SUCCESSFUL:return Object(w.a)({},e,{accessToken:t.accessToken,isAttemptingLogin:!1});case P.LOGIN_FAILED:return Object(w.a)({},e,{isAttemptingLogin:!1});case P.LOGOUT:return Object(w.a)({},x);case P.SESSION_EXPIRED:return Object(w.a)({},e,{isSessionExpired:!0});case P.TOKEN_VALIDATION_REQUESTED:return Object(w.a)({},e,{isValidatingToken:!0});case P.TOKEN_VALIDATION_SUCCESSFUL:return Object(w.a)({},e,{accessToken:t.accessToken,isValidatingToken:!1});case P.LOCAL_TOKEN_NOT_FOUND:case P.TOKEN_VALIDATION_FAILED:return Object(w.a)({},e,{accessToken:null,isValidatingToken:!1});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.GET_CURRENT_USER_INFO_REQUEST:return Object(w.a)({},e,{infoObtained:!1,serverError:!1});case Se.GET_CURRENT_USER_INFO_FAILED:return Object(w.a)({},e,{infoObtained:!1,serverError:!0});case Se.GET_CURRENT_USER_INFO_SUCCESSFUL:return{infoObtained:!0,serverError:!1,id:t.user_id,name:t.name,area:null!=t.area_id?{id:t.area_id,name:t.area_name}:null,email:t.email,roles:t.role};case P.LOGOUT:return Object(w.a)({},he);default:return e}},lists:Object(D.c)(function(e){var t={};return e.forEach(function(e){var n;t[Q[e]]=(n=e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re[n],t=arguments.length>1?arguments[1]:void 0;if("userRoleString"in t){if(t.userRoleString===Q[n]){var a=Object(w.a)({},e);return t.elementType===_.COMMITS&&_.COMMITS in e?a[_.COMMITS]=ge(e[_.COMMITS],t):t.elementType===_.SEND_REQUESTS&&_.SEND_REQUESTS in e&&(a[_.SEND_REQUESTS]=ge(e[_.SEND_REQUESTS],t)),a}return e}var r={};return Object.keys(Re[n]).forEach(function(n){return r[n]=ge(e[n],t)}),r})}),t}([H.PROGRAMMER,H.TECHNICAL_AREA_MANAGER,H.REVISION_OFFICE_MANAGER,H.CLIENT])),views:Object(D.c)((je={},Object(M.a)(je,Q[H.PROGRAMMER],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le.ADD_ELEMENT_REQUEST:return Object(w.a)({},e,{isAddingElement:!0,isAdditionSuccessful:!1,isAdditionFailed:!1});case Le.ADD_ELEMENT_SUCCESSFUL:return Object(w.a)({},e,{isAddingElement:!1,isAdditionSuccessful:!0,isAdditionFailed:!1});case Le.ADD_ELEMENT_FAILED:return Object(w.a)({},e,{isAddingElement:!1,isAdditionSuccessful:!1,isAdditionFailed:!0});case Le.REMOVE_ELEMENT_REQUEST:return Object(w.a)({},e,{isRemovingElement:!0});case Le.REMOVE_ELEMENT_SUCCESSFUL:return Object(w.a)({},e,{isRemovingElement:!1,removedElementsIds:[].concat(Object(K.a)(e.removedElementsIds),[t.elementId])});case Le.REMOVE_ELEMENT_FAILED:return Object(w.a)({},e,{isRemovingElement:!1});case Le.GET_SHORT_LIST_REQUEST:return we(e,t.elementType,!0);case Le.GET_SHORT_LIST_SUCCESSFUL:return function(e,t,n){switch(t){case _.CLIENTS:return Object(w.a)({},e,{isLoadingClients:!1,allClients:n});case _.BRANCHES:return Object(w.a)({},e,{isLoadingBranches:!1,allBranches:n});case _.COMMITS:return Object(w.a)({},e,{isLoadingCommits:!1,allCommits:n})}}(e,t.elementType,t.payload);case Le.GET_SHORT_LIST_FAILED:return we(e,t.elementType,!1);case Le.RESET_UI_STATE:return Object(w.a)({},Me,{removedElementsIds:e.removedElementsIds});default:return e}}),Object(M.a)(je,Q[H.TECHNICAL_AREA_MANAGER],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;return null!=t.elementType?Object(w.a)({},e,Object(M.a)({},t.elementType,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe.REVIEW_ITEM_REQUEST:var n=Object(w.a)({},e,{reviewInProgress:[].concat(Object(K.a)(e.reviewInProgress),[t.elementId]),reviewFailed:Object(w.a)({},e.reviewFailed)});return null!=n.reviewFailed[t.elementId]&&delete n.reviewFailed[t.elementId],n;case Oe.REVIEW_ITEM_SUCCESSFUL:return Object(w.a)({},e,{reviewInProgress:e.reviewInProgress.filter(function(e){return e!==t.elementId}),successfullyReviewed:Object(w.a)({},e.successfullyReviewed,Object(M.a)({},t.elementId,t.approvalStatus))});case Oe.REVIEW_ITEM_FAILED:return Object(w.a)({},e,{reviewInProgress:e.reviewInProgress.filter(function(e){return e!==t.elementId}),reviewFailed:Object(w.a)({},e.reviewFailed,Object(M.a)({},t.elementId,t.approvalStatus))});default:return e}}(e[t.elementType],t))):t.type===Oe.RESET_UI?ve:e}),Object(M.a)(je,Q[H.REVISION_OFFICE_MANAGER],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie.ELEMENT_DELIVERY_REQUEST:return Object(w.a)({},e,{isDeliveringElement:!0,lastDeliveryFailed:!1});case Ie.ELEMENT_DELIVERY_FAILED:return Object(w.a)({},e,{isDeliveringElement:!1,lastDeliveryFailed:!0});case Ie.ELEMENT_DELIVERY_SUCCESSFUL:return Object(w.a)({},e,{isDeliveringElement:!1,lastDeliveryFailed:!1,successfullyDeliveredElements:[].concat(Object(K.a)(e.successfullyDeliveredElements),[t.elementId])});case Ie.RESET_FAILED_DELIVERY_FLAG:return Object(w.a)({},e,{lastDeliveryFailed:_e.lastDeliveryFailed});case Ie.RESET_UI:return _e;default:return e}}),Object(M.a)(je,Q[H.CLIENT],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe.SEND_FEEDBACK_REQUEST:return Object(w.a)({},e,{isSendingFeedback:!0,lastFeedbackFailed:!1});case Pe.SEND_FEEDBACK_FAILED:return Object(w.a)({},e,{isSendingFeedback:!1,lastFeedbackFailed:!0});case Pe.SEND_FEEDBACK_SUCCESSFUL:return Object(w.a)({},e,{isSendingFeedback:!1,lastFeedbackFailed:!1,successfullySentFeedbackForElements:[].concat(Object(K.a)(e.successfullySentFeedbackForElements),[t.elementId])});case Pe.RESET_FAILED_FEEDBACK_FLAG:return Object(w.a)({},e,{lastFeedbackFailed:Fe.lastFeedbackFailed});case Pe.RESET_UI:return Fe;default:return e}}),je)),globalError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;switch((arguments.length>1?arguments[1]:void 0).type){case V.SAGA_ERROR:return{module:"saga"};default:return e}}}),Ve=n(17),Ge=n.n(Ve),Be=n(16);n(341);function qe(e){return Qe(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)}function He(e,t){return Qe(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,t)}function Qe(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="".concat(f,"/").concat(e),i=function(e,t){var n={"Content-Type":"application/json"};null!=t&&(n["X-Auth-Header"]=t);return{method:"POST",headers:n,body:JSON.stringify({request_data:e})}}(t,a);return(n>0?function(e,t,n){var a=new AbortController,r=a.signal;return setTimeout(function(){return a.abort()},n),fetch(e,Object(w.a)({},t,{signal:r}))}(r,i,n):fetch(r,i)).catch(function(t){return function(e,t){"AbortError"===e.name?console.error("API request to ".concat(t," aborted due to timeout")):console.error(e,"occurred during API request to ".concat(t))}(t,e),null})}function Ke(e,t){return e+"/".concat(t)}function We(e){switch(e){case N.DB_ERROR:return"Errore interno del server. Contatta l'amministratore di sistema.";case N.INVALID_REQUEST:return"Richiesta non valida. Assicurati che tutti i campi siano presenti.";case N.INVALID_CREDENTIALS:return"Credenziali non valide.";case N.UNAUTHORIZED:return"Non sei autorizzato ad effettuare l'operazione.";case N.INVALID_ID:return"L'operazione non pu\xf2 essere effettuata sull'elemento specificato.";case N.REMOVE_COMMIT_ALREADY_INCLUDED:return"Il commit \xe8 gi\xe0 referenziato in una richiesta di invio.";case N.APPROVE_ALREADY_APPROVED:case N.REMOVE_ALREADY_APPROVED:return"L'elemento \xe8 gi\xe0 stato revisionato.";case N.SEND_NOT_APPROVED:return"La richiesta non \xe8 ancora stata approvata.";case N.INSTALL_NOT_SENT:return"L'aggiornamento non \xe8 ancora stato inviato.";case N.LIST_INVALID_PARAMETER:return"Parametri di filtraggio della lista non validi.";case N.SERVER_IN_MAINTENANCE:return"Il server \xe8 in manutenzione. Riprova pi\xf9 tardi.";default:return e}}function Ye(e){console.log("Saving access token to local storage");try{localStorage.setItem(C,e)}catch(t){console.error("Unable to save access token in local storage: ".concat(t))}}function ze(){console.log("Removing access token from local storage");try{localStorage.removeItem(C)}catch(e){console.error("Unable to remove access token from local storage: ".concat(e))}}var Xe=Ge.a.mark(nt),Je=Ge.a.mark(at),Ze=Ge.a.mark(rt),$e=function(){function e(t){Object(c.a)(this,e),this.requestPath=t}return Object(u.a)(e,[{key:"setRequestData",value:function(e){return this.requestData=e,this}},{key:"setErrorAction",value:function(e){return this.errorAction=e,this}}]),e}(),et=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"makeAndReportErrors",value:Ge.a.mark(function e(){var t;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:return t=e.sent,e.next=5,at(this.requestPath,this.requestData,this.errorAction,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})},{key:"makeWithTimeoutAndReportErrors",value:Ge.a.mark(function e(){var t;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:return t=e.sent,e.next=5,at(this.requestPath,this.requestData,this.errorAction,t,v);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})}]),t}($e),tt=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"makeAndReportErrors",value:Ge.a.mark(function e(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(this.requestPath,this.requestData,this.errorAction);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})},{key:"makeWithTimeoutAndReportErrors",value:Ge.a.mark(function e(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(this.requestPath,this.requestData,this.errorAction,null,v);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})}]),t}($e);function nt(){var e;return Ge.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Be.i)(function(e){return e.auth.accessToken});case 2:if(null!=(e=t.sent)){t.next=5;break}throw new Error("User must be logged in to perform an authenticated request.");case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}},Xe)}function at(e){var t,n,a,r,i,o,s=arguments;return Ge.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(t=s.length>1&&void 0!==s[1]?s[1]:null,n=s.length>2&&void 0!==s[2]?s[2]:null,a=s.length>3&&void 0!==s[3]?s[3]:null,r=s.length>4&&void 0!==s[4]?s[4]:0,null!=a){l.next=10;break}return l.next=7,qe(e,t,r);case 7:i=l.sent,l.next=13;break;case 10:return l.next=12,He(e,a,t,r);case 12:i=l.sent;case 13:if(null!=i){l.next=17;break}return l.next=16,Object(Be.g)(Object(w.a)({},n,{errorMessage:"Richiesta al server fallita, possibile problema di connessione"}));case 16:return l.abrupt("return",null);case 17:return l.next=19,rt(i,n);case 19:if(null!=(o=l.sent)){l.next=22;break}return l.abrupt("return",null);case 22:if(i.ok){l.next=33;break}if(null==a||401!==i.status){l.next=28;break}return l.next=26,Object(Be.g)({type:P.SESSION_EXPIRED});case 26:l.next=31;break;case 28:if(null==n){l.next=31;break}return l.next=31,Object(Be.g)(Object(w.a)({},n,{errorMessage:We(o.error)}));case 31:return console.error("Server responded with ".concat(o.error," to ").concat(e," request: ").concat(o.message)),l.abrupt("return",null);case 33:return l.abrupt("return",o.response_data);case 34:case"end":return l.stop()}},Je)}function rt(e,t){var n;return Ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.json();case 3:return n=a.sent,a.abrupt("return",n);case 7:return a.prev=7,a.t0=a.catch(0),a.next=11,Object(Be.g)(Object(w.a)({},t,{errorMessage:"\xc8 stata ricevuta una risposta contenente dati errati dal server. Contatta l'amministratore di sistema."}));case 11:return console.error("Error when parsing JSON response from server: ",a.t0),a.abrupt("return",null);case 13:case"end":return a.stop()}},Ze,null,[[0,7]])}var it=Ge.a.mark(lt),ot=Ge.a.mark(ct),st=Ge.a.mark(ut);function lt(){var e,t,n,a,r,i,o,s;return Ge.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(Be.j)([P.TOKEN_VALIDATION_REQUESTED,P.LOCAL_TOKEN_NOT_FOUND]);case 2:if((e=l.sent).type!==P.TOKEN_VALIDATION_REQUESTED){l.next=8;break}return l.next=6,ut(e);case 6:l.next=9;break;case 8:console.log("Previously saved access token not found");case 9:return l.next=11,Object(Be.i)(function(e){return e.auth.accessToken});case 11:l.t0=l.sent,t=null!=l.t0;case 13:if(t){l.next=28;break}return l.next=17,Object(Be.j)(P.LOGIN_REQUESTED);case 17:return n=l.sent,a=new tt(y.LOGIN).setRequestData({username:n.username,password:n.password}).setErrorAction({type:P.LOGIN_FAILED}),l.next=21,a.makeWithTimeoutAndReportErrors();case 21:if(null==(r=l.sent)){l.next=28;break}return l.next=25,Object(Be.g)({type:P.LOGIN_SUCCESSFUL,accessToken:r.token});case 25:console.log("Login successful"),Ye(r.token),t=!0;case 28:if(!t){l.next=50;break}return l.next=31,Object(Be.j)([Se.GET_CURRENT_USER_INFO_REQUEST,P.LOGOUT]);case 31:if((i=l.sent).type!==Se.GET_CURRENT_USER_INFO_REQUEST){l.next=43;break}return o=new et(y.GET_USER_INFO).setErrorAction({type:Se.GET_CURRENT_USER_INFO_FAILED}),l.next=36,o.makeWithTimeoutAndReportErrors();case 36:if(null==(s=l.sent)){l.next=41;break}return l.next=40,Object(Be.g)(Object(w.a)({type:Se.GET_CURRENT_USER_INFO_SUCCESSFUL},s));case 40:console.log("User info retrieved successfully");case 41:l.next=48;break;case 43:if(null==i.accessToken){l.next=46;break}return l.next=46,ct(i.accessToken);case 46:ze(),t=!1;case 48:l.next=28;break;case 50:l.next=13;break;case 52:case"end":return l.stop()}},it)}function ct(e){return Ge.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Be.f)(He,y.LOGOUT,e);case 2:t.sent.toPromise().then(function(e){null==e?console.error("Error during logout notification request to server"):e.ok?console.log("Logout notification successful"):console.error("Server responded with an error after logout notification: ".concat(e.statusText))});case 4:case"end":return t.stop()}},ot)}function ut(e){var t;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,He(y.VALIDATE_TOKEN,e.accessToken,null,v);case 2:if(null==(t=n.sent)||!t.ok){n.next=9;break}return n.next=6,Object(Be.g)({type:P.TOKEN_VALIDATION_SUCCESSFUL,accessToken:e.accessToken});case 6:console.log("Local access token is valid"),n.next=12;break;case 9:return n.next=11,Object(Be.g)({type:P.TOKEN_VALIDATION_FAILED});case 11:ze();case 12:case"end":return n.stop()}},st)}var Et=n(218);var dt=Ge.a.mark(Rt),mt=Ge.a.mark(Tt),pt=Ge.a.mark(ht),gt=Ge.a.mark(bt);function Rt(e){var t,n;return Ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Tt(e);case 2:return a.next=4,Object(Be.i)(function(t){return t.lists[e.userRoleString][e.elementType]});case 4:if(!St(a.sent,e)){a.next=15;break}return t=new et(Ke(e.elementType,L.LIST)).setRequestData({page:e.pageNumber,limit:A,sort:null==e.sortingCriteria.columnKey?{}:{parameter:e.sortingCriteria.columnKey,order:e.sortingCriteria.direction},filter:[e.filter],role:e.userRoleString}).setErrorAction({type:ce.PAGE_RETRIEVAL_ERROR,elementType:e.elementType,userRoleString:e.userRoleString}),a.next=9,t.makeWithTimeoutAndReportErrors();case 9:if(null==(n=a.sent)){a.next=13;break}return a.next=13,Object(Be.g)({type:ce.PAGE_RETRIEVED_FROM_SERVER,elementType:e.elementType,userRoleString:e.userRoleString,serverResponse:n,pageNumber:n.page,sortingCriteria:e.sortingCriteria,filter:e.filter});case 13:a.next=17;break;case 15:return a.next=17,Object(Be.g)({type:ce.NO_RETRIEVAL_NEEDED,elementType:e.elementType,userRoleString:e.userRoleString});case 17:case"end":return a.stop()}},dt)}function St(e,t){if(!(t.pageNumber in e.listPages))return!0;var n=e.latestUpdateTimestamp,a=e.listPages[t.pageNumber],r=a.updateTimestamp<n,i=t.sortingCriteria.columnKey!==a.sorting.columnKey||t.sortingCriteria.direction!==a.sorting.direction,o=t.filter.attribute!==a.filter.attribute||t.filter.valueMatches!==a.filter.valueMatches||t.filter.valueDifferentFrom!==a.filter.valueDifferentFrom;return r||i||o}function Tt(e){var t,n,a;return Ge.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("Checking for ".concat(e.userRoleString,".").concat(e.elementType," updates...")),r.next=3,Object(Be.i)(function(t){return t.lists[e.userRoleString][e.elementType].latestUpdateTimestamp});case 3:return t=r.sent,n=new et(Ke(e.elementType,L.UPDATE)).setRequestData({latest_update_timestamp:t,section:e.userRoleString}).setErrorAction({type:ce.UPDATE_CHECKING_ERROR,elementType:e.elementType,userRoleString:e.userRoleString}),r.next=7,n.makeWithTimeoutAndReportErrors();case 7:if(null==(a=r.sent)){r.next=15;break}if(!a.updates_found){r.next=14;break}return r.next=12,Object(Be.g)({type:ce.UPDATE_RECEIVED,userRoleString:e.userRoleString,elementType:e.elementType,latestUpdateTimestamp:a.latest_update_timestamp});case 12:r.next=15;break;case 14:console.log("No ".concat(e.elementType," list updates found"));case 15:case"end":return r.stop()}},mt)}function ht(){var e,t,n;return Ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Be.a)([ce.START_AUTO_CHECKING,ce.STOP_AUTO_CHECKING]);case 2:e=a.sent,t={},n=Ge.a.mark(function n(){var a,r;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Be.j)(e);case 2:if(a=n.sent,r="".concat(a.userRoleString,".").concat(a.elementType),a.type!==ce.START_AUTO_CHECKING){n.next=14;break}if(null!=t[r]){n.next=11;break}return n.next=8,Object(Be.f)(function(){return bt(a)});case 8:t[r]=n.sent,n.next=12;break;case 11:console.error("There is another update checking task running for ".concat(r));case 12:n.next=22;break;case 14:if(a.type!==ce.STOP_AUTO_CHECKING){n.next=22;break}if(null==t[r]){n.next=21;break}return n.next=18,Object(Be.c)(t[r]);case 18:t[r]=null,n.next=22;break;case 21:console.error("Tried to stop an unexisting update checking task.");case 22:case"end":return n.stop()}},n)});case 5:return a.delegateYield(n(),"t0",7);case 7:a.next=5;break;case 9:case"end":return a.stop()}},pt)}function bt(e){var t;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,console.log("Auto update checking started for ".concat(e.userRoleString,".").concat(e.elementType));case 2:return n.next=5,Object(Be.e)(I);case 5:return n.next=7,Object(Be.i)(function(t){return t.lists[e.userRoleString][e.elementType]});case 7:if(!Ot(t=n.sent)||ft(t)){n.next=11;break}return n.next=11,Tt(e);case 11:n.next=2;break;case 13:return n.prev=13,n.next=16,Object(Be.d)();case 16:if(!n.sent){n.next=20;break}console.log("Auto update checking stopped for ".concat(e.userRoleString,".").concat(e.elementType)),n.next=21;break;case 20:console.error("Unexpected error during ".concat(e.userRoleString,".").concat(e.elementType," auto updating task"));case 21:return n.finish(13);case 22:case"end":return n.stop()}},gt,null,[[0,,13,22]])}function Ot(e){return null!=e}function ft(e){return e.isLoadingList}var Ct=[ht(),Object(Be.l)(ce.PAGE_REQUEST,Rt),function(e,t,n){for(var a=arguments.length,r=new Array(a>3?a-3:0),i=3;i<a;i++)r[i-3]=arguments[i];return Object(Be.f)(Ge.a.mark(function a(){var i,o,s,l,c,u;return Ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(Be.j)(t);case 3:if(o=a.sent,!i){a.next=7;break}return a.next=7,Object(Be.c)(i);case 7:s=!1;case 8:if(s){a.next=25;break}return l=void 0,a.next=12,Object(Be.h)([Object(Be.e)(e),Object(Be.j)(t)]);case 12:if(c=a.sent,u=Object(Et.a)(c,2),s=u[0],l=u[1],!s){a.next=22;break}return a.next=19,Be.f.apply(void 0,[n].concat(r,[o]));case 19:i=a.sent,a.next=23;break;case 22:o=l;case 23:a.next=8;break;case 25:a.next=0;break;case 27:case"end":return a.stop()}},a)}))}(250,ce.SEARCH_QUERY_CHANGED,Rt)],vt=Ge.a.mark(It);function It(e){var t;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new et(Ke(e.elementType,"approve")).setRequestData({id:e.elementId,approve_flag:e.approvalStatus}).setErrorAction(Object(w.a)({},e,{type:Oe.REVIEW_ITEM_FAILED})),n.next=3,t.makeAndReportErrors();case 3:if(null==n.sent){n.next=8;break}return console.log("Element ".concat(e.elementId," reviewed successfully")),n.next=8,Object(Be.g)(Object(w.a)({},e,{type:Oe.REVIEW_ITEM_SUCCESSFUL}));case 8:case"end":return n.stop()}},vt)}var At=[Object(Be.k)(Oe.REVIEW_ITEM_REQUEST,It)],_t=Ge.a.mark(Nt),Lt=Ge.a.mark(Dt),yt=Ge.a.mark(kt);function Nt(e){var t;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new et(Ke(e.elementType,L.ADD)).setRequestData(Object(w.a)({},e.payload)).setErrorAction({type:Le.ADD_ELEMENT_FAILED}),n.next=3,t.makeAndReportErrors();case 3:if(null==n.sent){n.next=9;break}return n.next=7,Object(Be.g)({type:Le.ADD_ELEMENT_SUCCESSFUL});case 7:return n.next=9,Tt({elementType:e.elementType,userRoleString:Q[H.PROGRAMMER]});case 9:case"end":return n.stop()}},_t)}function Dt(e){var t;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new et(Ke(e.elementType,L.REMOVE)).setRequestData({id:e.elementId}).setErrorAction({type:Le.REMOVE_ELEMENT_FAILED}),n.next=3,t.makeAndReportErrors();case 3:if(null==n.sent){n.next=9;break}return n.next=7,Object(Be.g)({type:Le.REMOVE_ELEMENT_SUCCESSFUL,elementId:e.elementId});case 7:return n.next=9,Tt({elementType:e.elementType,userRoleString:Q[H.PROGRAMMER]});case 9:case"end":return n.stop()}},Lt)}function kt(e){var t,n;return Ge.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=new et(Ke(e.elementType,L.SHORT_LIST)).setErrorAction({type:Le.GET_SHORT_LIST_FAILED}),a.next=3,t.makeAndReportErrors();case 3:if(null==(n=a.sent)){a.next=8;break}return console.log(e.elementType+" short list successfully loaded"),a.next=8,Object(Be.g)({type:Le.GET_SHORT_LIST_SUCCESSFUL,elementType:e.elementType,payload:n});case 8:case"end":return a.stop()}},yt)}var Mt=[Object(Be.k)(Le.ADD_ELEMENT_REQUEST,Nt),Object(Be.k)(Le.REMOVE_ELEMENT_REQUEST,Dt),Object(Be.k)(Le.GET_SHORT_LIST_REQUEST,kt)],wt=Ge.a.mark(Pt);function Pt(e){var t;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new et(Ke(_.SEND_REQUESTS,"send")).setRequestData({id:e.elementId,install_link:e.installLink}).setErrorAction({type:Ie.ELEMENT_DELIVERY_FAILED,elementId:e.elementId}),n.next=3,t.makeAndReportErrors();case 3:if(null==n.sent){n.next=7;break}return n.next=7,Object(Be.g)({type:Ie.ELEMENT_DELIVERY_SUCCESSFUL,elementId:e.elementId});case 7:case"end":return n.stop()}},wt)}var Ut=[Object(Be.k)(Ie.ELEMENT_DELIVERY_REQUEST,Pt)],jt=Ge.a.mark(Ft);function Ft(e){var t;return Ge.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new et(Ke(_.SEND_REQUESTS,"install")).setRequestData({id:e.elementId,install_status:e.installStatus,feedback:e.installFeedback}).setErrorAction({type:Pe.SEND_FEEDBACK_FAILED,elementId:e.elementId}),n.next=3,t.makeAndReportErrors();case 3:if(null==n.sent){n.next=7;break}return n.next=7,Object(Be.g)({type:Pe.SEND_FEEDBACK_SUCCESSFUL,elementId:e.elementId});case 7:case"end":return n.stop()}},jt)}var xt=[Object(Be.k)(Pe.SEND_FEEDBACK_REQUEST,Ft)],Vt=Ge.a.mark(Gt);function Gt(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Be.b)([lt()].concat(Object(K.a)(Ct),Object(K.a)(Mt),Object(K.a)(At),Object(K.a)(Ut),Object(K.a)(xt)));case 3:return e.prev=3,e.next=6,Object(Be.g)({type:V.SAGA_ERROR});case 6:return e.finish(3);case 7:case"end":return e.stop()}},Vt,null,[[0,,3,7]])}var Bt=n(38);function qt(e){var t,n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d,a=Object(k.a)(),r=(t=e,function(e){return e.getState,e.dispatch,function(e){return function(n){switch(n.type){case ce.UPDATE_CHECKING_ERROR:t("Impossibile controllare gli aggiornamenti per la lista. Controlla la tua connessione.",{variant:"error",autoHideDuration:4e3,preventDuplicate:!0});break;case Oe.REVIEW_ITEM_FAILED:t("Revisione del".concat(n.elementType===_.COMMITS?" commit":"la richiesta di invio"," #").concat(n.elementId," fallita: ").concat(n.errorMessage,"."),{variant:"error",autoHideDuration:4e3});break;case P.LOGIN_FAILED:t("Impossibile effettuare l'accesso: "+n.errorMessage,{variant:"error",autoHideDuration:5e3});break;case ce.PAGE_RETRIEVAL_ERROR:t("Impossibile caricare la pagina: "+n.errorMessage,{variant:"error",autoHideDuration:5e3});break;case Le.ADD_ELEMENT_SUCCESSFUL:t("La richiesta \xe8 stata aggiunta correttamente.",{autoHideDuration:5e3});break;case Le.REMOVE_ELEMENT_SUCCESSFUL:t("La richiesta \xe8 stata rimossa con successo.",{autoHideDuration:5e3});break;case Le.REMOVE_ELEMENT_FAILED:t("Errore nella rimozione della richiesta: "+n.errorMessage,{variant:"error",autoHideDuration:5e3})}e(n)}}}),i=Object(D.e)(xe,n(Object(D.a)(a,r)));return a.run(Gt),i}var Ht=Object(r.withSnackbar)(function(e){return o.a.createElement(Bt.a,{store:qt(e.enqueueSnackbar)},e.children)}),Qt=n(40),Kt=n(22),Wt=n(75),Yt=n(127),zt=n(86),Xt=n.n(zt),Jt=n(7),Zt=n.n(Jt),$t=n(197),en=n.n($t),tn=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(Zt.a,{className:e.root,container:!0,direction:"column",justify:"center",alignItems:"center",spacing:16},o.a.createElement(Zt.a,{item:!0},o.a.createElement("img",{className:e.logo,src:en.a,alt:"Gesbank Evolution"})),o.a.createElement(Zt.a,{item:!0},o.a.createElement(Xt.a,{className:e.progress,color:"secondary"})))}}]),t}(i.Component);tn.displayName="LogoLoader";var nn=Object(a.withStyles)({root:{flexGrow:1,position:"absolute",height:"100%"},logo:{maxWidth:"100%",width:"auto",height:"auto"}})(tn),an="/",rn="/login",on="/home",sn="/programmer",ln="/revoffice",cn="/techarea",un="/client",En={TAB_VALUE:"/:tabValue"},dn=n(125),mn=n.n(dn),pn=n(124),gn=n.n(pn),Rn=n(100),Sn=n.n(Rn),Tn=n(57),hn=n.n(Tn),bn=n(43),On=n.n(bn),fn=n(98),Cn=n.n(fn),vn=n(74),In=n.n(vn),An=n(90),_n=n.n(An),Ln=n(91),yn=n.n(Ln),Nn=n(72),Dn=n.n(Nn),kn=n(214),Mn=n.n(kn),wn=n(215),Pn=n.n(wn),Un=n(210),jn=n.n(Un),Fn=n(212),xn=n.n(Fn),Vn=n(211),Gn=n.n(Vn),Bn=n(132),qn=n.n(Bn),Hn=n(36),Qn=n.n(Hn),Kn=n(113),Wn=n.n(Kn),Yn=n(114),zn=n.n(Yn),Xn=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.classes,a=e.children,r=Object(Qt.a)(e,["isLoading","classes","children"]);return o.a.createElement(Wn.a,Object.assign({fullWidth:!0},r),t&&this.showLoader(n),a)}},{key:"showLoader",value:function(e){return o.a.createElement(Zt.a,{className:e.opaque,container:!0,alignItems:"center",justify:"center"},o.a.createElement(Zt.a,{item:!0},o.a.createElement(Kt.b,null)))}}]),t}(o.a.Component);Xn.defaultProps={isLoading:!1,maxWidth:"md",disableBackdropClick:!0},Xn.displayName="ResponsiveDialog";var Jn=Object(a.withStyles)({opaque:{zIndex:10,position:"absolute",width:"100%",height:"100%",background:"rgba(255, 255, 255, 0.7)"}})(zn()({breakpoint:"xs"})(Xn)),Zn=n(48),$n=n.n(Zn),ea=n(49),ta=n.n(ea),na=n(29),aa=n.n(na),ra=n(68),ia=n.n(ra),oa={marginRight:"auto"},sa={margin:"8px 16px"},la=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.element,n=e.elementFields,a=e.renderFieldContent,r=e.onClose,i=e.dialogTitle,s=e.renderExtraActions,l=e.backButtonToTheLeft,c=Object(Qt.a)(e,["element","elementFields","renderFieldContent","onClose","dialogTitle","renderExtraActions","backButtonToTheLeft"]);return o.a.createElement(Jn,c,c.open&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ia.a,null,i),o.a.createElement(ta.a,null,o.a.createElement(Zt.a,{container:!0,spacing:16},n.map(function(e){return o.a.createElement(Zt.a,{item:!0,xs:12,md:e.fullRow?12:6,key:e.key},o.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0},e.label||z[e.key]),o.a.createElement(g.a,{variant:"body1"},a(e.key,t[e.key])))}))),o.a.createElement($n.a,{disableActionSpacing:!0,style:sa},o.a.createElement(aa.a,{onClick:r,color:"primary",style:l?oa:void 0},"Indietro"),null!=s?s():null)))}}]),t}(o.a.Component);function ca(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{columnKey:null,direction:"desc"},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:ce.PAGE_REQUEST,elementType:_.SEND_REQUESTS,userRoleString:e,pageNumber:t,limit:A,sortingCriteria:n,filter:a}}function ua(e){return{type:ce.START_AUTO_CHECKING,elementType:_.SEND_REQUESTS,userRoleString:e}}function Ea(e){return{type:ce.STOP_AUTO_CHECKING,elementType:_.SEND_REQUESTS,userRoleString:e}}la.defaultProps={backButtonToTheLeft:!1};var da=n(200),ma=n.n(da),pa=n(198),ga=n.n(pa),Ra=n(199),Sa=n.n(Ra),Ta=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.status,a=e.opacity,r=null!=a?{filter:"opacity(".concat(a,"%)")}:void 0;return n<0?o.a.createElement(ga.a,{color:"error",style:r}):0===n?o.a.createElement(Sa.a,{color:"action",style:r}):o.a.createElement(ma.a,{className:t.icon,style:r})}}]),t}(o.a.PureComponent);Ta.displayName="StatusIcon";var ha=Object(a.withStyles)(function(e){return{icon:{color:e.palette.approved}}})(Ta),ba=n(115),Oa=n.n(ba);function fa(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null!=n&&null!=a){var r=e.listPages[n].data[a];return Object(w.a)({},r)}if(null!=n&&null!=t){var i=e.listPages[n].data.find(function(e){return e.id===t});return Object(w.a)({},i)}return console.error("Couldn't retrieve element."),null}function Ca(e,t){if(null==t)return"\u2014";switch(e){case W.APPROVER:case W.AUTHOR:return t.name;case W.APPROVAL_STATUS:case Y.INSTALL_STATUS:return o.a.createElement(ha,{status:+t});case W.UPDATE_TIMESTAMP:case W.TIMESTAMP:case Y.DELIVERY_TIMESTAMP:return new Date(1e3*t).toLocaleString("it-it");case Y.INSTALL_TYPE:return X.DURING_EXECUTION?J.DURING_EXECUTION:J.NEEDS_SHUTDOWN;case Y.INSTALL_LINK:return o.a.createElement(Oa.a,{href:t,target:"_blank",rel:"noopener"},t);case Y.LINKED_COMMITS:if(0===t.length)return"\u2014";var n="";return t.forEach(function(e,a){n+="".concat(e[W.TITLE]," (#").concat(e[W.ID],")"),a<t.length-1&&(n+=", ")}),n;case Y.RECIPIENT_CLIENTS:if(0===t.length)return"\u2014";var a="";return t.forEach(function(e,n){a+=e.name,n<t.length-1&&(a+=", ")}),a;case Y.CLIENT_REPRESENTATIVES:if(0===t.length)return"\u2014";var r="";return t.forEach(function(e,n){r+=e,n<t.length-1&&(r+=", ")}),r;default:return t}}function va(e,t){switch(e){case W.APPROVAL_STATUS:return ee[t];default:return Ca(e,t)}}function Ia(e,t){var n=e[W.APPROVAL_STATUS]==$.PENDING,a=e[W.AUTHOR].id===t.id;return n&&a}var Aa={fab:{right:16,bottom:16,position:"fixed"}},_a=function(e){return Object(w.a)({root:Object(M.a)({width:"100%",paddingTop:0,paddingBottom:79,paddingLeft:0,paddingRight:0},e.breakpoints.up("sm"),{paddingTop:16,paddingBottom:79,paddingLeft:16,paddingRight:16}),paper:{flexGrow:1,width:"100%",overflowX:"auto"},errorColor:{color:e.palette.error.main},approvedColor:{color:e.palette.approved}},Aa)},La=function(e){return{dialogContent:{overflowY:"visible"},input:{display:"flex"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:"".concat(e.spacing.unit/2,"px ").concat(e.spacing.unit/4,"px")},noOptionsMessage:{padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")}}},ya=n(45),Na=n.n(ya),Da=n(46),ka=n.n(Da),Ma=n(56),wa=n.n(Ma),Pa=n(205),Ua=n.n(Pa),ja=n(204),Fa=n.n(ja),xa=n(203),Va=n.n(xa),Ga=n(116),Ba=n.n(Ga),qa=n(58),Ha=n.n(qa),Qa=n(51),Ka=n.n(Qa),Wa=n(201),Ya=n.n(Wa),za={filter:"opacity(0.65)"},Xa="\u2014",Ja=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).renderSkeleton=function(){return o.a.Children.map(Array(A),function(){return o.a.createElement(Ka.a,null,n.props.tableColumns.map(function(e,t){return o.a.createElement(hn.a,{key:t,smDown:!e.displayOnMobile},o.a.createElement(Ha.a,{align:null!=e.alignOption?e.alignOption:void 0,padding:"dense"},Xa))}))})},n.renderErrorMessageWithRetryButton=function(){var e=n.props,t=e.tableColumns,a=e.loadCurrentPage,r=e.classes;return o.a.createElement(Ka.a,null,o.a.createElement(Ha.a,{colSpan:t.length},o.a.createElement("div",{className:r.verticallyAlignedContent},o.a.createElement(Ya.a,{color:"action"})," \u2002 Impossibile ottenere i dati.\u2002",o.a.createElement(aa.a,{size:"small",onClick:a,color:"primary"},"Riprova"))))},n.renderContent=function(){var e=n.props,t=e.tableData,a=e.tableColumns,r=e.pageNumber,i=e.renderCellContent,s=e.onElementClick,l=e.disabledEntries,c=e.classes;return t[r].data.map(function(e,t){var n=l.includes(e.id),u=!n&&null!=s;return o.a.createElement(Ka.a,{className:u?c.handCursor:void 0,hover:u,onClick:u?function(){return s(r,t,e.id)}:void 0,key:e.id,style:n?za:void 0},a.map(function(t,n){return o.a.createElement(hn.a,{key:n,smDown:!t.displayOnMobile},o.a.createElement(Ha.a,{align:t.alignOption||void 0,padding:"dense"},i(t.key,e[t.key],e.id)))}))})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tableColumns,n=e.displayError,a=e.totalItemsCount,r=e.isLoading;return o.a.createElement(Ba.a,null,r?this.renderSkeleton():n?this.renderErrorMessageWithRetryButton():0===a?o.a.createElement(Ka.a,null,o.a.createElement(Ha.a,{colSpan:t.length},"Nessun dato presente.")):this.renderContent())}}]),t}(o.a.Component);Ja.displayName="TableDynamicBody",Ja.defaultProps={disabledEntries:[]};var Za=Object(a.withStyles)({handCursor:{cursor:"pointer"},verticallyAlignedContent:{display:"flex",alignItems:"center"}})(Ja),$a=n(117),er=n.n($a),tr=n(118),nr=n.n(tr),ar=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).displayedRowsLabel=function(e){var t=e.from,n=e.to,a=e.count;return"".concat(t,"-").concat(n," di ").concat(a," elementi totali")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.itemsCount,n=e.itemsPerPage,a=e.currentPage,r=e.onPageChange;return o.a.createElement(er.a,null,o.a.createElement(Ka.a,null,o.a.createElement(nr.a,{count:t,rowsPerPage:n,page:a,rowsPerPageOptions:[n],labelDisplayedRows:this.displayedRowsLabel,onChangePage:function(e,t){return r(t)}})))}}]),t}(o.a.PureComponent);ar.displayName="TablePaginationFooter";var rr=n(119),ir=n.n(rr),or=n(120),sr=n.n(or),lr=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tableColumns,n=e.sortingCriteria,a=e.onSortingUpdate;return o.a.createElement(ir.a,null,o.a.createElement(Ka.a,null,t.map(function(e){return o.a.createElement(hn.a,{key:e.key,smDown:!e.displayOnMobile},o.a.createElement(Ha.a,{align:null!=e.alignOption?e.alignOption:void 0,padding:"dense"},o.a.createElement(sr.a,{active:n.columnKey===e.key,direction:n.direction,onClick:e.notSortable?void 0:function(){var t={columnKey:e.key,direction:"asc"===n.direction?"desc":"asc"};a(t)}},e.label||z[e.key])))})))}}]),t}(o.a.PureComponent);lr.displayName="TableSortableHeader";var cr=n(87),ur=n.n(cr),Er=n(66),dr=n.n(Er),mr=n(54),pr=n(130),gr=n.n(pr),Rr=n(202),Sr=n.n(Rr),Tr=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.toolbarTitle,a=e.showAvailableUpdatesBadge,r=e.loadCurrentPage,i=e.onSearchQueryChange,s=e.renderCustomContent;return o.a.createElement(Dn.a,null,o.a.createElement(Zt.a,{className:t.toolbarContainer,container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:16},o.a.createElement(Zt.a,{item:!0},o.a.createElement(g.a,{variant:"h5"},n)),o.a.createElement(Zt.a,{item:!0},a&&o.a.createElement(ur.a,{color:"secondary"},o.a.createElement(aa.a,{variant:"outlined",color:"primary",onClick:r},"Aggiornamenti disponibili",o.a.createElement(gr.a,null)))),o.a.createElement(Zt.a,{item:!0},o.a.createElement(Zt.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},o.a.createElement(Zt.a,{item:!0},null!=s&&o.a.createElement(Zt.a,{item:!0},s())),o.a.createElement(Zt.a,{item:!0},o.a.createElement("div",{className:t.search},o.a.createElement("div",{className:t.searchIcon},o.a.createElement(Sr.a,null)),o.a.createElement(dr.a,{placeholder:"Cerca...",classes:{root:t.inputRoot,input:t.inputInput},onChange:function(e){return i(e.target.value)}})))))))}}]),t}(o.a.Component);Tr.displayName="TableToolbar";var hr=Object(a.withStyles)(function(e){return{search:Object(M.a)({position:"relative",borderRadius:e.shape.borderRadius,borderWidth:2,borderStyle:"solid",borderColor:Object(mr.fade)(e.palette.common.black,.05),"&:hover":{borderColor:Object(mr.fade)(e.palette.common.black,.1)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(M.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:128,"&:focus":{width:256}}),toolbarContainer:{margin:"0 -8px"}}})(Tr);function br(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=t=function(t){function n(e){var t;return Object(c.a)(this,n),(t=Object(E.a)(this,Object(d.a)(n).call(this,e))).loadCurrentPage=function(){t.props.loadPage(t.state.pageNumber,t.state.sorting,t.state.filter)},t.onPageChange=function(e){t.setState({pageNumber:e}),t.props.loadPage(e,t.state.sorting,t.state.filter)},t.onSortingChange=function(e){t.setState({sorting:e}),t.props.loadPage(t.state.pageNumber,e,t.state.filter)},t.onFilterChange=function(e){t.setState({filter:e,pageNumber:0}),ne(e)?t.props.onSearchQueryChange(e.valueMatches):t.props.loadPage(0,t.state.sorting,e)},t.state={pageNumber:0,sorting:{columnKey:null,direction:"desc"},filter:a},t}return Object(m.a)(n,t),Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.loadPage(0,this.state.sorting,this.state.filter)}},{key:"render",value:function(){var t=this.state,n=t.pageNumber,a=t.sorting,r=t.filter;return o.a.createElement(e,Object.assign({pageNumber:n,sorting:a,filter:r,loadCurrentPage:this.loadCurrentPage,onPageChange:this.onPageChange,onSortingChange:this.onSortingChange,onFilterChange:this.onFilterChange},this.props))}}]),n}(o.a.Component),t.displayName="WithTableFunctionality(".concat(T(e),")"),n}var Or="ACTIONS_COLUMN",fr=[{key:W.TITLE,displayOnMobile:!0},{key:Y.DELIVERY_TIMESTAMP,displayOnMobile:!0},{key:W.APPROVER,label:"Referente interno",displayOnMobile:!1},{key:Y.INSTALL_TYPE,displayOnMobile:!1},{key:Y.INSTALL_STATUS,displayOnMobile:!0}],Cr=[{key:W.TITLE,displayOnMobile:!0},{key:Y.DELIVERY_TIMESTAMP,displayOnMobile:!0},{key:W.APPROVER,label:"Referente interno",displayOnMobile:!1},{key:Y.INSTALL_TYPE,displayOnMobile:!1},{label:"Azioni",key:Or,displayOnMobile:!0,notSortable:!0,alignOption:"center"}],vr=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).renderToolbarRadioButtons=function(){var e=n.isShowingUpdatesToBeInstalled(),t=ne(n.props.filter);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Na.a,{disabled:t,checked:!e&&!t,control:o.a.createElement(ka.a,{color:"primary"}),label:"Gi\xe0 installati",onChange:function(){return n.props.onFilterChange(le())}}),o.a.createElement(Na.a,{disabled:t,checked:e&&!t,control:o.a.createElement(ka.a,{color:"primary"}),label:"Da installare",onChange:function(){return n.props.onFilterChange(se())}}))},n.renderCellContent=function(e,t,a){var r=n.props,i=r.onElementDownload,s=r.onElementFeedback,l=r.pageNumber,c=r.feedbackSentForElements;switch(e){case Or:return c.includes(a)?o.a.createElement(Va.a,{color:"action"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(On.a,{onClick:function(e){i(a,l),e.stopPropagation()}},o.a.createElement(Fa.a,{color:"action"})),o.a.createElement(On.a,{onClick:function(e){s(a,l),e.stopPropagation()}},o.a.createElement(Ua.a,{color:"action"})));default:return Ca(e,t)}},n.isShowingUpdatesToBeInstalled=function(){return n.props.filter.attribute===se().attribute&&n.props.filter.valueMatches===se().valueMatches},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.isLoading!==e.isLoading||this.props.latestUpdateTimestamp!==e.latestUpdateTimestamp||this.props.feedbackSentForElements!==e.feedbackSentForElements}},{key:"render",value:function(){var e=this.props,t=e.tableData,n=e.itemsCount,a=e.isLoading,r=e.latestUpdateTimestamp,i=e.displayError,s=e.onElementClick,l=e.loadCurrentPage,c=e.onPageChange,u=e.onSortingChange,E=e.onFilterChange,d=e.pageNumber,m=e.sorting,p=this.isShowingUpdatesToBeInstalled();return o.a.createElement(o.a.Fragment,null,o.a.createElement(hr,{toolbarTitle:"Download aggiornamenti",showAvailableUpdatesBadge:!a&&t.length>0&&null!=t[d]&&r>t[d].updateTimestamp,loadCurrentPage:l,onSearchQueryChange:function(e){return E(te(e,le()))},renderCustomContent:this.renderToolbarRadioButtons}),o.a.createElement(wa.a,null,o.a.createElement(lr,{tableColumns:p?Cr:fr,sortingCriteria:m,onSortingUpdate:u}),o.a.createElement(Za,{tableColumns:p?Cr:fr,tableData:t,totalItemsCount:n,displayError:i,isLoading:a,pageNumber:d,renderCellContent:this.renderCellContent,loadCurrentPage:l,onElementClick:s}),o.a.createElement(ar,{itemsCount:n,itemsPerPage:A,currentPage:d,onPageChange:c})))}}]),t}(o.a.Component);vr.displayName="ClientTable";var Ir=br(vr,se()),Ar=n(59),_r=n.n(Ar),Lr=n(73),yr=n.n(Lr),Nr=n(67),Dr=n.n(Nr),kr=n(39),Mr=n.n(kr),wr=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).handleSelectChange=function(e){n.setState({displayMissingInstallStatusError:!1,installStatus:e.target.value})},n.handleFeedbackTextChange=function(e){n.setState({installFeedback:e.target.value})},n.handleSendButtonClick=function(){var e=n.props,t=e.sendRequest,a=e.onSend;""===n.state.installStatus?n.setState({displayMissingInstallStatusError:!0}):a(t.id,n.state.installStatus,n.state.installFeedback.trim())},n.state={installStatus:"",installFeedback:"",displayMissingInstallStatusError:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sendRequest,n=(e.onSend,e.onClose),a=e.isSending,r=e.displaySendError,i=Object(Qt.a)(e,["sendRequest","onSend","onClose","isSending","displaySendError"]);return o.a.createElement(Jn,Object.assign({isLoading:a},i),i.open&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ia.a,null,"Invia feedback per la patch del ".concat(new Date(1e3*t[Y.DELIVERY_TIMESTAMP]).toLocaleDateString("it-it"),": ").concat(t[W.TITLE])),o.a.createElement(ta.a,null,o.a.createElement(Zt.a,{container:!0,alignItems:"center",spacing:16},o.a.createElement(Zt.a,{item:!0,xs:12,sm:9},o.a.createElement(g.a,{variant:"body1"},"L'installazione \xe8 andata a buon fine?")),o.a.createElement(Zt.a,{item:!0,xs:12,sm:3},o.a.createElement(Dr.a,{fullWidth:!0,onChange:this.handleSelectChange,value:this.state.installStatus,displayEmpty:!0,input:o.a.createElement(yr.a,{labelWidth:0}),error:this.state.displayMissingInstallStatusError},o.a.createElement(_r.a,{value:"",disabled:!0,selected:!0},"Seleziona"),o.a.createElement(_r.a,{value:Z.INSTALL_SUCCESS},"S\xec"),o.a.createElement(_r.a,{value:Z.INSTALL_FAILED},"No"))),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0},"Fornisci un feedback (opzionale)"),o.a.createElement(Mr.a,{fullWidth:!0,multiline:!0,variant:"outlined",value:this.state.installFeedback,onChange:this.handleFeedbackTextChange,style:{marginTop:"8px"}})),r&&o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"subtitle1",color:"error"},"Si \xe8 verificato un errore durante l'invio. Riprova.")))),o.a.createElement($n.a,null,o.a.createElement(aa.a,{onClick:n,color:"primary"},"Annulla"),o.a.createElement(aa.a,{onClick:this.handleSendButtonClick,color:"primary"},"Invia"))))}}]),t}(o.a.Component);wr.displayName="InstallFeedbackDialog";var Pr=[{key:W.TITLE},{key:Y.DELIVERY_TIMESTAMP},{key:W.DESCRIPTION},{key:W.COMPONENTS},{key:Y.CLIENT_REPRESENTATIVES},{key:Y.INSTALL_TYPE},{key:Y.INSTALL_LINK},{key:Y.INSTALL_FEEDBACK}],Ur=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).downloadPatchFileInNewTab=function(e,t){var a=fa(n.props.sendRequestsData,e,t)[Y.INSTALL_LINK];null!=a&&window.open(a,"_blank","noopener")},n.hideDetailsModal=function(){n.setState({detailsModalOpen:!1})},n.hideFeedbackModal=function(){n.props.resetFailedFeedbackFlag(),n.setState({feedbackModalOpen:!1})},n.state={detailsModalOpen:!1,feedbackModalOpen:!1,currentlyShowingElement:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.startSendRequestsListUpdatesAutoChecking(Q[H.CLIENT])}},{key:"componentWillUnmount",value:function(){this.props.stopSendRequestsListUpdatesAutoChecking(Q[H.CLIENT]),this.props.resetUI()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.sendRequestsData,r=t.retrieveSendRequestsListPage,i=t.performNewSearch,s=t.sendFeedback,l=t.successfullySentFeedbackForElements,c=t.isSendingFeedback,u=t.lastFeedbackFailed,E=this.state,d=E.detailsModalOpen,m=E.feedbackModalOpen,p=E.currentlyShowingElement;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{container:!0,className:n.root},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Zt.a,{container:!0,justify:"center"},o.a.createElement(Qn.a,{className:n.paper},o.a.createElement(Ir,{tableData:a.listPages,itemsCount:a.totalItemsCount,isLoading:a.isLoadingList,latestUpdateTimestamp:a.latestUpdateTimestamp,displayError:a.errorWhileFetchingData,loadPage:function(e,t,n){r(Q[H.CLIENT],e,t,n)},onSearchQueryChange:function(e){i(ca(Q[H.CLIENT]),e)},onElementDownload:this.downloadPatchFileInNewTab,onElementFeedback:function(t,n){e.setState({feedbackModalOpen:!0,currentlyShowingElement:fa(a,t,n)})},onElementClick:function(t,n,r){e.setState({detailsModalOpen:!0,currentlyShowingElement:fa(a,r,t,n)})},feedbackSentForElements:l}))))),o.a.createElement(la,{open:d,dialogTitle:"Aggiornamento del ".concat(new Date(1e3*p[Y.DELIVERY_TIMESTAMP]).toLocaleDateString("it-it"),": ").concat(p[W.TITLE]),element:p,elementFields:Pr,renderFieldContent:Ca,onClose:this.hideDetailsModal}),o.a.createElement(wr,{key:p.id,open:m,isLoading:c,displaySendError:u,sendRequest:p,onSend:function(e,t,n){return s(e,t,n)},onClose:this.hideFeedbackModal}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.successfullySentFeedbackForElements.includes(t.currentlyShowingElement.id)?{feedbackModalOpen:!1}:null}}]),t}(o.a.Component);Ur.displayName="ClientView";var jr=O(Object(a.withStyles)(_a)(Object(Bt.b)(function(e){return{sendRequestsData:e.lists[Q[H.CLIENT]].sendRequests,successfullySentFeedbackForElements:e.views[Q[H.CLIENT]].successfullySentFeedbackForElements,isSendingFeedback:e.views[Q[H.CLIENT]].isSendingFeedback,lastFeedbackFailed:e.views[Q[H.CLIENT]].lastFeedbackFailed}},function(e){return Object(D.b)({retrieveSendRequestsListPage:ca,startSendRequestsListUpdatesAutoChecking:ua,stopSendRequestsListUpdatesAutoChecking:Ea,performNewSearch:ue,sendFeedback:Ue,resetFailedFeedbackFlag:function(){return{type:Pe.RESET_FAILED_FEEDBACK_FLAG}},resetUI:function(){return{type:Pe.RESET_UI}}},e)})(Ur))),Fr=n(89),xr=n.n(Fr),Vr=n(131),Gr=n.n(Vr),Br=n(92),qr=n(121),Hr=n.n(qr),Qr=n(206),Kr=n.n(Qr),Wr={fontFamily:"Roboto",color:"hsl(0,0%,20%)"};function Yr(e){return o.a.createElement(g.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)}function zr(e){var t=e.inputRef,n=Object(Qt.a)(e,["inputRef"]);return o.a.createElement("div",Object.assign({ref:t},n))}function Xr(e){return o.a.createElement(Mr.a,Object.assign({fullWidth:!0,margin:"normal",variant:"outlined",InputProps:{inputComponent:zr,inputProps:Object(w.a)({className:e.selectProps.classes.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))}function Jr(e){return o.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}function Zr(e){return console.log(e),o.a.createElement(Hr.a,{className:e.selectProps.classes.chip,tabIndex:-1,label:e.data.label,onDelete:e.removeProps.onClick,deleteIcon:o.a.createElement(Kr.a,e.removeProps)})}function $r(e){return o.a.createElement(Qn.a,Object.assign({square:!0,style:Wr},e.innerProps),e.children)}var ei={NoOptionsMessage:Yr,Control:Xr,ValueContainer:Jr,MultiValue:Zr,Menu:$r},ti={title:"",description:"",branch:"",components:""},ni=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).onDialogClose=function(){var e=n.props.onDialogClose;n.setState(ti),e()},n.onDialogSend=function(){var e=n.props.onDialogSend,t=n.state,a=t.title,r=t.description,i=t.branch,o=t.components;e({title:a,description:r,branch:i.value,components:o})},n.onInputChanged=function(e,t){n.setState(Object(M.a)({},e,t.target.value))},n.onSelectInputChanged=function(e){return function(t){n.setState(Object(M.a)({},e,t))}},n.state=ti,n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.isLoadingBranches,r=t.allBranches,i=t.isLoading,s=t.isFailed,l=t.isSuccessful,c=Object(Qt.a)(t,["classes","isLoadingBranches","allBranches","isLoading","isFailed","isSuccessful"]),u=this.state,E=u.title,d=u.description,m=u.branch,p=u.components;return i||s||!l||this.onDialogClose(),o.a.createElement(Jn,Object.assign({},c,{isLoading:i&&!s,scroll:"body"}),o.a.createElement(Kt.g,null,"Inserisci un nuovo commit"),o.a.createElement(ta.a,{classes:{root:n.dialogContent}},o.a.createElement(Zt.a,{container:!0,spacing:16},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Mr.a,{label:"Titolo",margin:"normal",variant:"outlined",fullWidth:!0,value:E,onChange:function(t){return e.onInputChanged("title",t)}})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Mr.a,{label:"Descrizione",margin:"normal",variant:"outlined",fullWidth:!0,value:d,onChange:function(t){return e.onInputChanged("description",t)}})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Br.a,{classes:n,textFieldProps:{label:"Branch",InputLabelProps:{shrink:!0}},options:r,components:ei,value:m,onChange:this.onSelectInputChanged("branch"),placeholder:"Seleziona un branch",isClearable:!0,isLoading:a})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Mr.a,{label:"Componenti",margin:"normal",variant:"outlined",fullWidth:!0,value:p,onChange:function(t){return e.onInputChanged("components",t)}})),s&&o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"subtitle1",color:"error",gutterBottom:!0},"Errore durante l'aggiunta di un nuovo commit, riprova.")))),o.a.createElement($n.a,null,o.a.createElement(aa.a,{color:"primary",onClick:this.onDialogClose},"Annulla"),o.a.createElement(aa.a,{color:"primary",onClick:this.onDialogSend},"Invia")))}}]),t}(i.Component);ni.displayName="NewCommitDialog";var ai=Object(a.withStyles)(La)(ni),ri=[{key:W.ID,displayOnMobile:!1},{key:W.TITLE,displayOnMobile:!0},{key:W.TIMESTAMP,displayOnMobile:!0},{key:W.AUTHOR,displayOnMobile:!1}],ii=[].concat(ri,[{key:W.UPDATE_TIMESTAMP,displayOnMobile:!1},{key:W.APPROVAL_STATUS,displayOnMobile:!0}]),oi=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).renderToolbarRadioButtons=function(){var e=n.isDisplayingToBeReviewedItems(),t=ne(n.props.filter);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Na.a,{disabled:t,checked:!e&&!t,control:o.a.createElement(ka.a,{color:"primary"}),label:"Gi\xe0 revisionati",onChange:function(){return n.props.onFilterChange(ae())}}),o.a.createElement(Na.a,{disabled:t,checked:e&&!t,control:o.a.createElement(ka.a,{color:"primary"}),label:"In attesa di revisione",onChange:function(){return n.props.onFilterChange(re())}}))},n.isDisplayingToBeReviewedItems=function(){return n.props.filter.attribute===re().attribute&&n.props.filter.valueMatches===re().valueMatches},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.isLoading!==e.isLoading||this.props.latestUpdateTimestamp!==e.latestUpdateTimestamp||this.props.disabledEntries!==e.disabledEntries}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.tableToolbarTitle,a=e.tableData,r=e.latestUpdateTimestamp,i=e.itemsCount,s=e.displayError,l=e.onElementClick,c=e.loadCurrentPage,u=e.onPageChange,E=e.onSortingChange,d=e.onFilterChange,m=e.pageNumber,p=e.sorting,g=e.disabledEntries,R=this.isDisplayingToBeReviewedItems();return o.a.createElement(o.a.Fragment,null,o.a.createElement(hr,{toolbarTitle:n,showAvailableUpdatesBadge:!t&&a.length>0&&null!=a[m]&&r>a[m].updateTimestamp,loadCurrentPage:c,onSearchQueryChange:function(e){return d(te(e,re()))},renderCustomContent:this.renderToolbarRadioButtons}),o.a.createElement(wa.a,null,o.a.createElement(lr,{tableColumns:R?ri:ii,sortingCriteria:p,onSortingUpdate:E}),o.a.createElement(Za,{tableColumns:R?ri:ii,tableData:a,totalItemsCount:i,displayError:s,isLoading:t,pageNumber:m,renderCellContent:Ca,loadCurrentPage:c,onElementClick:l,disabledEntries:g}),o.a.createElement(ar,{itemsCount:i,itemsPerPage:A,currentPage:m,onPageChange:u})))}}]),t}(i.Component);oi.displayName="ProgrammerTable";var si=br(oi,re());function li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{columnKey:null,direction:"desc"},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:ce.PAGE_REQUEST,elementType:_.COMMITS,userRoleString:e,pageNumber:t,limit:A,sortingCriteria:n,filter:a}}function ci(e){return{type:ce.START_AUTO_CHECKING,elementType:_.COMMITS,userRoleString:e}}function ui(e){return{type:ce.STOP_AUTO_CHECKING,elementType:_.COMMITS,userRoleString:e}}var Ei=[{key:W.TITLE,fullRow:!0},{key:W.DESCRIPTION,fullRow:!0},{key:W.BRANCH},{key:W.COMPONENTS},{key:W.AUTHOR},{key:W.TIMESTAMP},{key:W.APPROVAL_STATUS,label:"Stato revisione"},{key:W.APPROVER,label:"Revisionato da"}],di=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).renderRemoveDialogButtonIfNeeded=function(){var e=n.state.currentlyShowingCommit,t=n.props,a=t.classes,r=t.removeElement,i=t.currentUser;if(Ia(e,i))return o.a.createElement(aa.a,{classes:{root:a.errorColor},onClick:function(){return r(_.COMMITS,e.id)}},"Rimuovi")},n.onCloseClicked=function(){n.props.resetUIState(),n.showAddDialog(!1)},n.onSendClicked=function(e){n.props.addElement(_.COMMITS,e)},n.showAddDialog=function(e){n.setState({isShowingNewCommitDialog:e})},n.onFabClick=function(){n.props.getShortListForElement(_.BRANCHES),n.showAddDialog(!0)},n.state={isShowingCommitDetails:!1,isShowingNewCommitDialog:!1,currentlyShowingCommit:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.startCommitsListUpdatesAutoChecking(Q[H.PROGRAMMER])}},{key:"componentWillUnmount",value:function(){this.props.stopCommitsListUpdatesAutoChecking(Q[H.PROGRAMMER]),this.props.resetUIState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.commitsData,r=t.retrieveCommitsListPage,i=t.performNewSearch,s=t.isLoadingBranches,l=t.allBranches,c=t.isAddingElement,u=t.isAdditionSuccessful,E=t.isAdditionFailed,d=t.isRemovingElement,m=t.removedElementsIds,p=this.state,g=p.isShowingCommitDetails,R=p.isShowingNewCommitDialog,S=p.currentlyShowingCommit;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{container:!0,className:n.root},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Zt.a,{container:!0,justify:"center"},o.a.createElement(Qn.a,{className:n.paper},o.a.createElement(si,{tableToolbarTitle:"Lista richieste di commit",tableData:a.listPages,elementType:_.COMMITS,itemsCount:a.totalItemsCount,loadPage:function(e,t,n){r(Q[H.PROGRAMMER],e,t,n)},onSearchQueryChange:function(e){i(li(Q[H.PROGRAMMER]),e)},isLoading:a.isLoadingList,latestUpdateTimestamp:a.latestUpdateTimestamp,displayError:a.errorWhileFetchingData,onElementClick:function(t,n,r){e.setState({isShowingCommitDetails:!0,currentlyShowingCommit:fa(a,r,t,n)})},disabledEntries:m}))))),o.a.createElement(xr.a,{color:"secondary",variant:"extended","aria-label":"Aggiungi",className:n.fab,onClick:this.onFabClick},o.a.createElement(Gr.a,null),"Nuovo commit"),o.a.createElement(ai,{open:R,isLoadingBranches:s,allBranches:l.map(function(e){return{value:e.id,label:e.name}}),isLoading:c,isSuccessful:u,isFailed:E,onDialogClose:this.onCloseClicked,onDialogSend:this.onSendClicked}),o.a.createElement(la,{open:g,isLoading:d,dialogTitle:"Richiesta di commit #".concat(S.id),element:S,elementFields:Ei,renderFieldContent:va,renderExtraActions:this.renderRemoveDialogButtonIfNeeded,onClose:function(){return e.setState({isShowingCommitDetails:!1})}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.isShowingCommitDetails&&e.removedElementsIds.includes(t.currentlyShowingCommit.id)?{isShowingCommitDetails:!1}:null}}]),t}(i.Component);di.displayName="CommitsCreationView";var mi=O(Object(a.withStyles)(_a)(Object(Bt.b)(function(e){return{currentUser:e.user,commitsData:e.lists[Q[H.PROGRAMMER]].commits,isLoadingBranches:e.views[Q[H.PROGRAMMER]].isLoadingBranches,allBranches:e.views[Q[H.PROGRAMMER]].allBranches,isAddingElement:e.views[Q[H.PROGRAMMER]].isAddingElement,isAdditionSuccessful:e.views[Q[H.PROGRAMMER]].isAdditionSuccessful,isAdditionFailed:e.views[Q[H.PROGRAMMER]].isAdditionFailed,isRemovingElement:e.views[Q[H.PROGRAMMER]].isRemovingElement,removedElementsIds:e.views[Q[H.PROGRAMMER]].removedElementsIds}},function(e){return Object(D.b)({retrieveCommitsListPage:li,startCommitsListUpdatesAutoChecking:ci,stopCommitsListUpdatesAutoChecking:ui,performNewSearch:ue,getShortListForElement:De,addElement:ye,removeElement:Ne,resetUIState:ke},e)})(di))),pi=n(69),gi=n.n(pi),Ri=n(99),Si=n.n(Ri),Ti={NoOptionsMessage:Yr,Control:Xr,ValueContainer:Jr,MultiValue:Zr,Menu:$r},hi={title:"",description:"",installationType:"",destClients:[],branch:"",commits:[],components:""},bi=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).onDialogClose=function(){var e=n.props.onDialogClose;n.setState(hi),e()},n.onDialogSend=function(){var e=n.props.onDialogSend,t=n.state,a=t.title,r=t.description,i=t.installationType,o=t.destClients,s=t.branch,l=t.commits,c=t.components;e({title:a,description:r,install_type:i,dest_clients:o.map(function(e){return e.value}),branch:s.value,commits:l.map(function(e){return e.value}),components:c})},n.onInputChanged=function(e,t){n.setState(Object(M.a)({},e,t.target.value))},n.onSelectInputChanged=function(e){return function(t){n.setState(Object(M.a)({},e,t))}},n.state=hi,n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.isLoadingClients,r=t.allClients,i=t.isLoadingBranches,s=t.allBranches,l=t.isLoadingCommits,c=t.allCommits,u=t.isLoading,E=t.isFailed,d=t.isSuccessful,m=Object(Qt.a)(t,["classes","isLoadingClients","allClients","isLoadingBranches","allBranches","isLoadingCommits","allCommits","isLoading","isFailed","isSuccessful"]),p=this.state,R=p.title,S=p.description,T=p.installationType,h=p.destClients,b=p.branch,O=p.commits,f=p.components;return u||E||!d||this.onDialogClose(),o.a.createElement(Jn,Object.assign({},m,{isLoading:u&&!E,scroll:"body"}),o.a.createElement(Kt.g,null,"Inserisci una nuova richiesta di invio"),o.a.createElement(ta.a,{classes:{root:n.dialogContent}},o.a.createElement(Zt.a,{container:!0,spacing:16},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Mr.a,{label:"Titolo",margin:"normal",variant:"outlined",fullWidth:!0,value:R,onChange:function(t){return e.onInputChanged("title",t)}})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Mr.a,{label:"Descrizione",margin:"normal",variant:"outlined",fullWidth:!0,value:S,onChange:function(t){return e.onInputChanged("description",t)}})),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Br.a,{classes:n,textFieldProps:{label:"Cliente/i",InputLabelProps:{shrink:!0}},components:Ti,options:r,placeholder:"Seleziona uno o pi\xf9 clienti",value:h,onChange:this.onSelectInputChanged("destClients"),isMulti:!0,isLoading:a})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6},o.a.createElement(Br.a,{classes:n,textFieldProps:{label:"Branch",InputLabelProps:{shrink:!0}},options:s,components:Ti,value:b,onChange:this.onSelectInputChanged("branch"),placeholder:"Seleziona un branch",isClearable:!0,isLoading:i})),o.a.createElement(Zt.a,{item:!0,xs:12,md:6},o.a.createElement(Br.a,{classes:n,textFieldProps:{label:"Commits",InputLabelProps:{shrink:!0}},components:Ti,options:c,placeholder:"Seleziona uno o pi\xf9 commit",value:O,onChange:this.onSelectInputChanged("commits"),isMulti:!0,isLoading:l})),o.a.createElement(Zt.a,{item:!0,xs:12,md:9},o.a.createElement(Mr.a,{label:"Componenti",margin:"normal",variant:"outlined",fullWidth:!0,value:f,onChange:function(t){return e.onInputChanged("components",t)}})),o.a.createElement(Zt.a,{item:!0,xs:12,md:3},o.a.createElement(gi.a,{variant:"outlined",fullWidth:!0,style:{marginTop:16}},o.a.createElement(Si.a,{htmlFor:"installationType"},"Tipo installazione"),o.a.createElement(Dr.a,{value:T,onChange:function(t){return e.onInputChanged("installationType",t)},input:o.a.createElement(yr.a,{id:"installationType",labelWidth:128})},o.a.createElement(_r.a,{value:X.DURING_EXECUTION},J.DURING_EXECUTION),o.a.createElement(_r.a,{value:X.NEEDS_SHUTDOWN},J.NEEDS_SHUTDOWN)))),E&&o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"subtitle1",color:"error",gutterBottom:!0},"Errore durante l'aggiunta di una nuova richiesta di invio, riprova.")))),o.a.createElement($n.a,null,o.a.createElement(aa.a,{color:"primary",onClick:this.onDialogClose},"Annulla"),o.a.createElement(aa.a,{color:"primary",onClick:this.onDialogSend},"Invia")))}}]),t}(i.Component);bi.displayName="NewSendRequestDialog";var Oi=Object(a.withStyles)(La)(bi),fi=[{key:W.TITLE,fullRow:!0},{key:W.DESCRIPTION,fullRow:!0},{key:W.COMPONENTS,fullRow:!0},{key:W.BRANCH},{key:Y.INSTALL_TYPE},{key:Y.LINKED_COMMITS},{key:Y.RECIPIENT_CLIENTS},{key:W.AUTHOR},{key:W.TIMESTAMP},{key:W.APPROVAL_STATUS,label:"Stato revisione"},{key:W.APPROVER,label:"Revisionato da"}],Ci=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).renderRemoveDialogButtonIfNeeded=function(){var e=n.state.currentlyShowingSendRequest,t=n.props,a=t.classes,r=t.removeElement,i=t.currentUser;if(Ia(e,i))return o.a.createElement(aa.a,{classes:{root:a.errorColor},onClick:function(){return r(_.SEND_REQUESTS,e.id)}},"Rimuovi")},n.onCloseClicked=function(){n.props.resetUIState(),n.showAddDialog(!1)},n.onSendClicked=function(e){n.props.addElement(_.SEND_REQUESTS,e)},n.showAddDialog=function(e){n.setState({isShowingNewSendRequestDialog:e})},n.onFabClick=function(){var e=n.props.getShortListForElement;e(_.CLIENTS),e(_.BRANCHES),e(_.COMMITS),n.showAddDialog(!0)},n.onInputChanged=function(e,t){n.setState(Object(M.a)({},e,t.target.value))},n.state={isShowingSendRequestDetails:!1,isShowingNewSendRequestDialog:!1,currentlyShowingSendRequest:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.startSendRequestsListUpdatesAutoChecking(Q[H.PROGRAMMER])}},{key:"componentWillUnmount",value:function(){this.props.stopSendRequestsListUpdatesAutoChecking(Q[H.PROGRAMMER]),this.props.resetUIState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.sendRequestsData,r=t.retrieveSendRequestsListPage,i=t.performNewSearch,s=t.isLoadingClients,l=t.allClients,c=t.isLoadingBranches,u=t.allBranches,E=t.isLoadingCommits,d=t.allCommits,m=t.isAddingElement,p=t.isAdditionSuccessful,g=t.isAdditionFailed,R=t.isRemovingElement,S=t.removedElementsIds,T=this.state,h=T.isShowingSendRequestDetails,b=T.isShowingNewSendRequestDialog,O=T.currentlyShowingSendRequest;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{container:!0,className:n.root},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Zt.a,{container:!0,justify:"center"},o.a.createElement(Qn.a,{className:n.paper},o.a.createElement(si,{tableToolbarTitle:"Lista richieste di invio",tableData:a.listPages,elementType:_.SEND_REQUESTS,itemsCount:a.totalItemsCount,loadPage:function(e,t,n){r(Q[H.PROGRAMMER],e,t,n)},isLoading:a.isLoadingList,onSearchQueryChange:function(e){i(ca(Q[H.PROGRAMMER]),e)},latestUpdateTimestamp:a.latestUpdateTimestamp,displayError:a.errorWhileFetchingData,onElementClick:function(t,n,r){e.setState({isShowingSendRequestDetails:!0,currentlyShowingSendRequest:fa(a,r,t,n)})},disabledEntries:S}))))),o.a.createElement(xr.a,{color:"secondary",variant:"extended","aria-label":"Aggiungi",className:n.fab,onClick:this.onFabClick},o.a.createElement(Gr.a,null),"Nuova richiesta di invio"),o.a.createElement(Oi,{open:b,isLoadingClients:s,allClients:l.map(function(e){return{value:e.user_id,label:e.name}}),isLoadingBranches:c,allBranches:u.map(function(e){return{value:e.id,label:e.name}}),isLoadingCommits:E,allCommits:d.map(function(e){return{value:e.commit_id,label:"[".concat(e.commit_id,"] ").concat(e.title)}}),isLoading:m,isSuccessful:p,isFailed:g,onDialogClose:this.onCloseClicked,onDialogSend:this.onSendClicked}),o.a.createElement(la,{open:h,isLoading:R,dialogTitle:"Richiesta di invio #".concat(O.id),element:O,elementFields:fi,renderFieldContent:va,renderExtraActions:this.renderRemoveDialogButtonIfNeeded,onClose:function(){return e.setState({isShowingSendRequestDetails:!1})}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.isShowingSendRequestDetails&&e.removedElementsIds.includes(t.currentlyShowingSendRequest.id)?{isShowingSendRequestDetails:!1}:null}}]),t}(i.Component);Ci.displayName="SendRequestsCreationView";var vi=O(Object(a.withStyles)(_a)(Object(Bt.b)(function(e){return{currentUser:e.user,sendRequestsData:e.lists[Q[H.PROGRAMMER]].sendRequests,isLoadingClients:e.views[Q[H.PROGRAMMER]].isLoadingClients,allClients:e.views[Q[H.PROGRAMMER]].allClients,isLoadingBranches:e.views[Q[H.PROGRAMMER]].isLoadingBranches,allBranches:e.views[Q[H.PROGRAMMER]].allBranches,isLoadingCommits:e.views[Q[H.PROGRAMMER]].isLoadingCommits,allCommits:e.views[Q[H.PROGRAMMER]].allCommits,isAddingElement:e.views[Q[H.PROGRAMMER]].isAddingElement,isAdditionSuccessful:e.views[Q[H.PROGRAMMER]].isAdditionSuccessful,isAdditionFailed:e.views[Q[H.PROGRAMMER]].isAdditionFailed,isRemovingElement:e.views[Q[H.PROGRAMMER]].isRemovingElement,removedElementsIds:e.views[Q[H.PROGRAMMER]].removedElementsIds}},function(e){return Object(D.b)({retrieveSendRequestsListPage:ca,startSendRequestsListUpdatesAutoChecking:ua,stopSendRequestsListUpdatesAutoChecking:Ea,performNewSearch:ue,getShortListForElement:De,addElement:ye,removeElement:Ne,resetUIState:ke},e)})(Ci))),Ii="REVIEW_BUTTONS_COLUMN",Ai=[{key:W.ID,displayOnMobile:!1},{key:W.TITLE,displayOnMobile:!0},{key:W.TIMESTAMP,displayOnMobile:!0},{key:W.AUTHOR,displayOnMobile:!1},{key:W.UPDATE_TIMESTAMP,displayOnMobile:!1},{key:W.APPROVAL_STATUS,displayOnMobile:!0}],_i=[{key:W.ID,displayOnMobile:!1},{key:W.TITLE,displayOnMobile:!0},{key:W.TIMESTAMP,displayOnMobile:!0},{key:W.AUTHOR,displayOnMobile:!1},{label:"Azioni",key:Ii,displayOnMobile:!0,notSortable:!0,alignOption:"center"}],Li=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).renderToolbarRadioButtons=function(){var e=n.isReviewMode(),t=ne(n.props.filter);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Na.a,{disabled:t,checked:!e&&!t,control:o.a.createElement(ka.a,{color:"primary"}),label:"Gi\xe0 revisionati",onChange:function(){return n.props.onFilterChange(ae())}}),o.a.createElement(Na.a,{disabled:t,checked:e&&!t,control:o.a.createElement(ka.a,{color:"primary"}),label:"Da revisionare",onChange:function(){return n.props.onFilterChange(re())}}))},n.renderCellContent=function(e,t,a){var r=n.props,i=r.classes,s=r.onItemReview,l=r.successfullyReviewedItems,c=r.reviewInProgressItems,u=r.failedReviewItems;switch(e){case Ii:return o.a.createElement(o.a.Fragment,null,null!=l[a]?o.a.createElement(ha,{status:l[a]}):null!=u[a]?o.a.createElement(On.a,{onClick:function(e){s(a,n.props.failedReviewItems[a]),e.stopPropagation()}},o.a.createElement(ur.a,{classes:{badge:i.errorBadge},badgeContent:"!",color:"error"},o.a.createElement(gr.a,{color:"action"}))):c.includes(a)?o.a.createElement(Xt.a,{size:24}):o.a.createElement(o.a.Fragment,null,o.a.createElement(On.a,{onClick:function(e){s(a,$.REJECTED),e.stopPropagation()}},o.a.createElement(ha,{status:$.REJECTED})),o.a.createElement(On.a,{onClick:function(e){s(a,$.APPROVED),e.stopPropagation()}},o.a.createElement(ha,{status:$.APPROVED}))));default:return Ca(e,t)}},n.onElementClick=function(e,t,a){n.props.onElementClick(e,t,a,n.isReviewMode())},n.isReviewMode=function(){return n.props.filter.attribute===re().attribute&&n.props.filter.valueMatches===re().valueMatches},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.isLoading!==e.isLoading||this.props.latestUpdateTimestamp!==e.latestUpdateTimestamp||this.props.reviewInProgressItems!==e.reviewInProgressItems||this.props.successfullyReviewedItems!==e.successfullyReviewedItems||this.props.failedReviewItems!==e.failedReviewItems}},{key:"render",value:function(){var e=this.props,t=e.tableData,n=e.elementType,a=e.itemsCount,r=e.isLoading,i=e.latestUpdateTimestamp,s=e.displayError,l=e.loadCurrentPage,c=e.onPageChange,u=e.onSortingChange,E=e.onFilterChange,d=e.pageNumber,m=e.sorting,p=e.successfullyReviewedItems,g=this.isReviewMode();return o.a.createElement(o.a.Fragment,null,o.a.createElement(hr,{toolbarTitle:n===_.COMMITS?"Revisione commit":"Revisione richieste di invio",showAvailableUpdatesBadge:!r&&t.length>0&&null!=t[d]&&i>t[d].updateTimestamp,loadCurrentPage:l,onSearchQueryChange:function(e){return E(te(e,ae()))},renderCustomContent:this.renderToolbarRadioButtons}),o.a.createElement(wa.a,null,o.a.createElement(lr,{tableColumns:g?_i:Ai,sortingCriteria:m,onSortingUpdate:u}),o.a.createElement(Za,{tableColumns:g?_i:Ai,tableData:t,totalItemsCount:a,displayError:s,isLoading:r,pageNumber:d,renderCellContent:this.renderCellContent,loadCurrentPage:l,onElementClick:this.onElementClick,disabledEntries:Object.keys(p).map(function(e){return parseInt(e)})}),o.a.createElement(ar,{itemsCount:a,itemsPerPage:A,currentPage:d,onPageChange:c})))}}]),t}(o.a.Component);Li.displayName="RevisionTable";var yi=br(Object(a.withStyles)({errorBadge:{width:"16px",height:"16px"}})(Li),re()),Ni=[{key:W.TITLE,fullRow:!0},{key:W.DESCRIPTION,fullRow:!0},{key:W.BRANCH},{key:W.COMPONENTS},{key:W.AUTHOR},{key:W.TIMESTAMP}],Di=[].concat(Ni,[{key:W.APPROVAL_STATUS,label:"Stato revisione"},{key:W.APPROVER,label:"Revisionato da"}]),ki=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).renderApproveRejectModalActions=function(){var e=n.props,t=e.classes,a=e.reviewItem,r=n.state.currentlyShowingCommit;return o.a.createElement(o.a.Fragment,null,o.a.createElement(aa.a,{classes:{root:t.errorColor},onClick:function(){return a(_.COMMITS,r.id,$.REJECTED)}},"Rifiuta"),o.a.createElement(aa.a,{classes:{root:t.approvedColor},onClick:function(){return a(_.COMMITS,r.id,$.APPROVED)}},"Approva"))},n.hideDetailsModal=function(){n.setState({isShowingCommitDetails:!1})},n.state={isReviewingCommits:!0,isShowingCommitDetails:!1,currentlyShowingCommit:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.startCommitsListUpdatesAutoChecking(Q[H.TECHNICAL_AREA_MANAGER])}},{key:"componentWillUnmount",value:function(){this.props.stopCommitsListUpdatesAutoChecking(Q[H.TECHNICAL_AREA_MANAGER]),this.props.resetUI()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.commitsData,r=t.retrieveCommitsListPage,i=t.performNewSearch,s=t.reviewItem,l=t.reviewInProgressItems,c=t.successfullyReviewedItems,u=t.failedReviewItems,E=this.state,d=E.isShowingCommitDetails,m=E.isReviewingCommits,p=E.currentlyShowingCommit;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{container:!0,className:n.root},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Zt.a,{container:!0,justify:"center"},o.a.createElement(Qn.a,{className:n.paper},o.a.createElement(yi,{tableData:a.listPages,elementType:_.COMMITS,itemsCount:a.totalItemsCount,isLoading:a.isLoadingList,latestUpdateTimestamp:a.latestUpdateTimestamp,displayError:a.errorWhileFetchingData,loadPage:function(e,t,n){r(Q[H.TECHNICAL_AREA_MANAGER],e,t,n)},onSearchQueryChange:function(e){i(li(Q[H.TECHNICAL_AREA_MANAGER]),e)},onItemReview:function(e,t){return s(_.COMMITS,e,t)},onElementClick:function(t,n,r,i){e.setState({isReviewingCommits:i,isShowingCommitDetails:!0,currentlyShowingCommit:fa(a,r,t,n)})},reviewInProgressItems:l,successfullyReviewedItems:c,failedReviewItems:u}))))),o.a.createElement(la,{open:d,isLoading:l.includes(p.id),dialogTitle:"Richiesta di commit #".concat(p.id),element:p,elementFields:m?Ni:Di,renderFieldContent:va,onClose:this.hideDetailsModal,backButtonToTheLeft:m,renderExtraActions:m?this.renderApproveRejectModalActions:void 0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.isReviewingCommits&&t.currentlyShowingCommit.id in e.successfullyReviewedItems?{isShowingCommitDetails:!1}:null}}]),t}(o.a.Component);ki.displayName="CommitsRevisionView";var Mi=O(Object(a.withStyles)(_a)(Object(Bt.b)(function(e){return{commitsData:e.lists[Q[H.TECHNICAL_AREA_MANAGER]].commits,reviewInProgressItems:e.views[Q[H.TECHNICAL_AREA_MANAGER]].commits.reviewInProgress,successfullyReviewedItems:e.views[Q[H.TECHNICAL_AREA_MANAGER]].commits.successfullyReviewed,failedReviewItems:e.views[Q[H.TECHNICAL_AREA_MANAGER]].commits.reviewFailed}},function(e){return Object(D.b)({retrieveCommitsListPage:li,startCommitsListUpdatesAutoChecking:ci,stopCommitsListUpdatesAutoChecking:ui,performNewSearch:ue,reviewItem:fe,resetUI:function(){return{type:Oe.RESET_UI}}},e)})(ki))),wi=[{key:W.TITLE,fullRow:!0},{key:W.DESCRIPTION,fullRow:!0},{key:W.COMPONENTS,fullRow:!0},{key:W.BRANCH},{key:Y.INSTALL_TYPE},{key:Y.LINKED_COMMITS},{key:Y.RECIPIENT_CLIENTS},{key:W.AUTHOR},{key:W.TIMESTAMP}],Pi=[].concat(wi,[{key:W.APPROVAL_STATUS,label:"Stato revisione"},{key:W.APPROVER,label:"Revisionato da"}]),Ui=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).renderApproveRejectModalActions=function(){var e=n.props,t=e.classes,a=e.reviewItem,r=n.state.currentlyShowingSendRequest;return o.a.createElement(o.a.Fragment,null,o.a.createElement(aa.a,{classes:{root:t.errorColor},onClick:function(){return a(_.SEND_REQUESTS,r.id,$.REJECTED)}},"Rifiuta"),o.a.createElement(aa.a,{classes:{root:t.approvedColor},onClick:function(){return a(_.SEND_REQUESTS,r.id,$.APPROVED)}},"Approva"))},n.hideDetailsModal=function(){n.setState({isShowingSendRequestDetails:!1})},n.state={isReviewingSendRequests:!0,isShowingSendRequestDetails:!1,currentlyShowingSendRequest:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.startSendRequestsListUpdatesAutoChecking(Q[H.TECHNICAL_AREA_MANAGER])}},{key:"componentWillUnmount",value:function(){this.props.stopSendRequestsListUpdatesAutoChecking(Q[H.TECHNICAL_AREA_MANAGER]),this.props.resetUI()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.sendRequestsData,r=t.retrieveSendRequestsListPage,i=t.performNewSearch,s=t.reviewItem,l=t.reviewInProgressItems,c=t.successfullyReviewedItems,u=t.failedReviewItems,E=this.state,d=E.isReviewingSendRequests,m=E.isShowingSendRequestDetails,p=E.currentlyShowingSendRequest;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{container:!0,className:n.root},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Zt.a,{container:!0,justify:"center"},o.a.createElement(Qn.a,{className:n.paper},o.a.createElement(yi,{tableData:a.listPages,elementType:_.SEND_REQUESTS,itemsCount:a.totalItemsCount,isLoading:a.isLoadingList,latestUpdateTimestamp:a.latestUpdateTimestamp,displayError:a.errorWhileFetchingData,loadPage:function(e,t,n){r(Q[H.TECHNICAL_AREA_MANAGER],e,t,n)},onSearchQueryChange:function(e){i(ca(Q[H.TECHNICAL_AREA_MANAGER]),e)},onItemReview:function(e,t){return s(_.SEND_REQUESTS,e,t)},onElementClick:function(t,n,r,i){e.setState({isReviewingSendRequests:i,isShowingSendRequestDetails:!0,currentlyShowingSendRequest:fa(a,r,t,n)})},reviewInProgressItems:l,successfullyReviewedItems:c,failedReviewItems:u}))))),o.a.createElement(la,{open:m,isLoading:l.includes(p.id),dialogTitle:"Richiesta di invio #".concat(p.id),element:p,elementFields:d?wi:Pi,renderFieldContent:va,onClose:this.hideDetailsModal,backButtonToTheLeft:d,renderExtraActions:d?this.renderApproveRejectModalActions:void 0}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.isReviewingSendRequests&&t.currentlyShowingSendRequest.id in e.successfullyReviewedItems?{isShowingSendRequestDetails:!1}:null}}]),t}(o.a.Component);Ui.displayName="SendRequestsRevisionView";var ji=O(Object(a.withStyles)(_a)(Object(Bt.b)(function(e){return{sendRequestsData:e.lists[Q[H.TECHNICAL_AREA_MANAGER]].sendRequests,reviewInProgressItems:e.views[Q[H.TECHNICAL_AREA_MANAGER]].sendRequests.reviewInProgress,successfullyReviewedItems:e.views[Q[H.TECHNICAL_AREA_MANAGER]].sendRequests.successfullyReviewed,failedReviewItems:e.views[Q[H.TECHNICAL_AREA_MANAGER]].sendRequests.reviewFailed}},function(e){return Object(D.b)({retrieveSendRequestsListPage:ca,startSendRequestsListUpdatesAutoChecking:ua,stopSendRequestsListUpdatesAutoChecking:Ea,performNewSearch:ue,reviewItem:fe,resetUI:function(){return{type:Oe.RESET_UI}}},e)})(Ui))),Fi={marginRight:"auto"},xi=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).handleLinkTextFieldChange=function(e){n.setState({displayMissingLinkError:!1,installLink:e.target.value})},n.handleSendButtonClick=function(){var e=n.props,t=e.sendRequest,a=e.onSend;""===n.state.installLink.trim()?n.setState({displayMissingLinkError:!0}):a(t.id,n.state.installLink)},n.state={installLink:"",displayMissingLinkError:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sendRequest,n=(e.onSend,e.onClose),a=e.onDetailsClick,r=e.displayError,i=Object(Qt.a)(e,["sendRequest","onSend","onClose","onDetailsClick","displayError"]);return o.a.createElement(Jn,i,i.open&&o.a.createElement(o.a.Fragment,null,o.a.createElement(ia.a,null,"Invia patch #".concat(t.id,": ").concat(t[W.TITLE])),o.a.createElement(ta.a,null,o.a.createElement(Zt.a,{container:!0,spacing:16},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0},z[W.DESCRIPTION]),o.a.createElement(g.a,{variant:"body1"},t[W.DESCRIPTION])),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0},z[Y.RECIPIENT_CLIENTS]),o.a.createElement(g.a,{variant:"body1"},Ca(Y.RECIPIENT_CLIENTS,t[Y.RECIPIENT_CLIENTS]))),o.a.createElement(Zt.a,{item:!0,xs:12,md:6},o.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0},z[W.BRANCH]),o.a.createElement(g.a,{variant:"body1"},t[W.BRANCH])),o.a.createElement(Zt.a,{item:!0,xs:12,md:6},o.a.createElement(g.a,{variant:"subtitle2",gutterBottom:!0},z[Y.INSTALL_TYPE]),o.a.createElement(g.a,{variant:"body1"},Ca(Y.INSTALL_TYPE,t[Y.INSTALL_TYPE]))),o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Mr.a,{fullWidth:!0,variant:"outlined",label:"Link di installazione",placeholder:"Specifica un indirizzo",value:this.state.installLink,onChange:this.handleLinkTextFieldChange,error:this.state.displayMissingLinkError,style:{marginTop:"8px"},InputLabelProps:{shrink:!0}})),r&&o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(g.a,{variant:"subtitle1",color:"error"},"Si \xe8 verificato un errore durante l'invio. Riprova.")))),o.a.createElement($n.a,null,o.a.createElement(aa.a,{onClick:a,color:"primary",style:Fi},"Pi\xf9 dettagli"),o.a.createElement(aa.a,{onClick:n,color:"primary"},"Annulla"),o.a.createElement(aa.a,{onClick:this.handleSendButtonClick,color:"primary"},"Invia"))))}}]),t}(o.a.Component);xi.defaultProps={displayError:!1};var Vi="DELIVER_BUTTON_COLUMN",Gi=[{key:W.ID,displayOnMobile:!1},{key:W.TITLE,displayOnMobile:!0},{key:W.TIMESTAMP,displayOnMobile:!0},{key:Y.RECIPIENT_CLIENTS,displayOnMobile:!1,notSortable:!0},{key:W.AUTHOR,displayOnMobile:!1},{key:Y.DELIVERY_TIMESTAMP,displayOnMobile:!0}],Bi=[{key:W.ID,displayOnMobile:!1},{key:W.TITLE,displayOnMobile:!0},{key:W.TIMESTAMP,displayOnMobile:!0},{key:Y.RECIPIENT_CLIENTS,displayOnMobile:!1,notSortable:!0},{key:W.AUTHOR,displayOnMobile:!1},{label:"Invia",key:Vi,displayOnMobile:!0,notSortable:!0}],qi=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).renderToolbarRadioButtons=function(){var e=n.isDeliveryMode(),t=ne(n.props.filter);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Na.a,{disabled:t,checked:!e&&!t,control:o.a.createElement(ka.a,{color:"primary"}),label:"Gi\xe0 inviate",onChange:function(){return n.props.onFilterChange(oe())}}),o.a.createElement(Na.a,{disabled:t,checked:e&&!t,control:o.a.createElement(ka.a,{color:"primary"}),label:"Da inviare",onChange:function(){return n.props.onFilterChange(ie())}}))},n.renderCellContent=function(e,t,a){var r=n.props,i=r.pageNumber,s=r.onElementDelivery,l=r.successfullyDeliveredElements;switch(e){case Vi:return l.includes(a)?o.a.createElement(ha,{status:$.APPROVED,opacity:60}):o.a.createElement(o.a.Fragment,null,o.a.createElement(On.a,{onClick:function(e){s(a,i),e.stopPropagation()}},o.a.createElement(qn.a,{color:"action"})));default:return Ca(e,t)}},n.isDeliveryMode=function(){return n.props.filter.attribute===ie().attribute&&n.props.filter.valueMatches===ie().valueMatches},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.isLoading!==e.isLoading||this.props.latestUpdateTimestamp!==e.latestUpdateTimestamp||this.props.successfullyDeliveredElements!==e.successfullyDeliveredElements}},{key:"render",value:function(){var e=this.props,t=e.tableData,n=e.itemsCount,a=e.isLoading,r=e.latestUpdateTimestamp,i=e.displayError,s=e.onElementClick,l=e.loadCurrentPage,c=e.onPageChange,u=e.onSortingChange,E=e.onFilterChange,d=e.pageNumber,m=e.sorting,p=this.isDeliveryMode();return o.a.createElement(o.a.Fragment,null,o.a.createElement(hr,{toolbarTitle:"Invio patch",showAvailableUpdatesBadge:!a&&t.length>0&&null!=t[d]&&r>t[d].updateTimestamp,loadCurrentPage:l,onSearchQueryChange:function(e){return E(te(e,oe()))},renderCustomContent:this.renderToolbarRadioButtons}),o.a.createElement(wa.a,null,o.a.createElement(lr,{tableColumns:p?Bi:Gi,sortingCriteria:m,onSortingUpdate:u}),o.a.createElement(Za,{tableColumns:p?Bi:Gi,tableData:t,totalItemsCount:n,displayError:i,isLoading:a,pageNumber:d,renderCellContent:this.renderCellContent,loadCurrentPage:l,onElementClick:s}),o.a.createElement(ar,{itemsCount:n,itemsPerPage:A,currentPage:d,onPageChange:c})))}}]),t}(o.a.Component);qi.displayName="DeliveryTable";var Hi=br(qi,ie()),Qi=[{key:W.TITLE,fullRow:!0},{key:W.DESCRIPTION,fullRow:!0},{key:W.BRANCH},{key:W.COMPONENTS},{key:Y.LINKED_COMMITS},{key:Y.RECIPIENT_CLIENTS},{key:W.AUTHOR},{key:W.TIMESTAMP},{key:W.APPROVER},{key:W.UPDATE_TIMESTAMP,label:"Data approvazione"},{key:Y.INSTALL_TYPE},{key:Y.INSTALL_LINK}],Ki=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).hideDeliveryModal=function(){n.props.resetDeliveryFailedFlag(),n.setState({deliveryModalOpen:!1})},n.hideDetailsModal=function(){n.setState({detailsModalOpen:!1})},n.state={detailsModalOpen:!1,deliveryModalOpen:!1,currentlyShowingElement:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.startSendRequestsListUpdatesAutoChecking(Q[H.REVISION_OFFICE_MANAGER])}},{key:"componentWillUnmount",value:function(){this.props.stopSendRequestsListUpdatesAutoChecking(Q[H.REVISION_OFFICE_MANAGER]),this.props.resetUI()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.sendRequestsData,r=t.retrieveSendRequestsListPage,i=t.performNewSearch,s=t.successfullyDeliveredElements,l=t.isDeliveringElement,c=t.lastDeliveryFailed,u=this.state,E=u.detailsModalOpen,d=u.deliveryModalOpen,m=u.currentlyShowingElement;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Zt.a,{container:!0,className:n.root},o.a.createElement(Zt.a,{item:!0,xs:12},o.a.createElement(Zt.a,{container:!0,justify:"center"},o.a.createElement(Qn.a,{className:n.paper},o.a.createElement(Hi,{tableData:a.listPages,itemsCount:a.totalItemsCount,isLoading:a.isLoadingList,latestUpdateTimestamp:a.latestUpdateTimestamp,displayError:a.errorWhileFetchingData,loadPage:function(e,t,n){r(Q[H.REVISION_OFFICE_MANAGER],e,t,n)},onSearchQueryChange:function(e){i(ca(Q[H.REVISION_OFFICE_MANAGER]),e)},onElementDelivery:function(t,n){e.setState({deliveryModalOpen:!0,currentlyShowingElement:fa(a,t,n)})},onElementClick:function(t,n,r){e.setState({detailsModalOpen:!0,currentlyShowingElement:fa(a,r,t,n)})},successfullyDeliveredElements:s}))))),o.a.createElement(la,{open:E,dialogTitle:"Richiesta di invio #".concat(m.id),element:m,elementFields:Qi,renderFieldContent:Ca,onClose:this.hideDetailsModal}),o.a.createElement(xi,{key:m.id,open:d,isLoading:l,displayError:c,sendRequest:m,onSend:function(t,n){return e.props.deliverElement(t,n)},onClose:this.hideDeliveryModal,onDetailsClick:function(){return e.setState({detailsModalOpen:!0})}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.successfullyDeliveredElements.includes(t.currentlyShowingElement.id)?{deliveryModalOpen:!1}:null}}]),t}(o.a.Component);Ki.displayName="RevisionOfficeManagerView";var Wi=O(Object(a.withStyles)(_a)(Object(Bt.b)(function(e){return{sendRequestsData:e.lists[Q[H.REVISION_OFFICE_MANAGER]].sendRequests,successfullyDeliveredElements:e.views[Q[H.REVISION_OFFICE_MANAGER]].successfullyDeliveredElements,isDeliveringElement:e.views[Q[H.REVISION_OFFICE_MANAGER]].isDeliveringElement,lastDeliveryFailed:e.views[Q[H.REVISION_OFFICE_MANAGER]].lastDeliveryFailed}},function(e){return Object(D.b)({retrieveSendRequestsListPage:ca,startSendRequestsListUpdatesAutoChecking:ua,stopSendRequestsListUpdatesAutoChecking:Ea,performNewSearch:ue,deliverElement:Ae,resetDeliveryFailedFlag:function(){return{type:Ie.RESET_FAILED_DELIVERY_FLAG}},resetUI:function(){return{type:Ie.RESET_UI}}},e)})(Ki))),Yi=[{routePath:sn,label:"Programmatore",drawerIcon:o.a.createElement(jn.a,null),visibleToRoles:[H.PROGRAMMER,H.TECHNICAL_AREA_MANAGER],tabs:[{value:"0",label:"Richieste di commit",component:mi},{value:"1",label:"Richieste di invio",component:vi}]},{routePath:cn,label:"Referente area tecnica",drawerIcon:o.a.createElement(Gn.a,null),visibleToRoles:[H.TECHNICAL_AREA_MANAGER],tabs:[{value:"0",label:"Richieste di commit",component:Mi},{value:"1",label:"Richieste di invio",component:ji}]},{routePath:ln,label:"Responsabile ufficio revisioni",component:Wi,drawerIcon:o.a.createElement(qn.a,null),visibleToRoles:[H.REVISION_OFFICE_MANAGER],tabs:[]},{value:H.CLIENT,routePath:un,label:"Cliente",component:jr,drawerIcon:o.a.createElement(xn.a,null),visibleToRoles:[H.CLIENT],tabs:[]}];function zi(e){for(var t=function(t){return e.includes(t)},n=[],a=0,r=Yi;a<r.length;a++){var i=r[a];i.visibleToRoles.some(t)&&n.push(i)}return n}function Xi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Yi.find(function(t){return t.visibleToRoles.includes(e)});return null!=n?"".concat(n.routePath).concat(n.tabs.length>0?"/".concat(t):""):""}function Ji(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var Zi=n(123),$i=n.n(Zi),eo=n(122),to=n.n(eo),no=n(71),ao=n.n(no),ro=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onTabClicked=function(e){var t=n.props,a=t.history,r=t.sectionUrl;a.push("".concat(r,"/").concat(e))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.tabs,a=t.match,r=t.width;return o.a.createElement(to.a,{value:a.params.tabValue,variant:Object(no.isWidthDown)("xs",r)?"fullWidth":"scrollable",scrollButtons:"auto"},n.map(function(t,n){return o.a.createElement($i.a,{key:n,value:t.value,label:t.label,onClick:function(){return e.onTabClicked(t.value)}})}))}}]),t}(i.Component);ro.displayName="InnerTabs";var io=ao()({noSSR:!0})(ro),oo=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).renderTabsRoutes=function(){var e=n.props,t=e.user,a=e.match;return zi(t.roles).map(function(e,t){if(e.tabs.length>0)return o.a.createElement(Wt.b,{key:t,path:"".concat(a.url).concat(e.routePath).concat(En.TAB_VALUE),render:function(t){return o.a.createElement(io,Object.assign({},t,{sectionUrl:"".concat(a.url).concat(e.routePath),tabs:e.tabs}))}})})},n.renderMobileDrawer=function(){return o.a.createElement(Sn.a,{open:n.state.isDrawerOpen,variant:"temporary",onClose:n.closeDrawer},n.renderDrawerLayout())},n.renderDesktopDrawer=function(){return o.a.createElement(Sn.a,{classes:{paper:n.props.classes.drawer},open:!0,variant:"permanent",anchor:"left"},n.renderDrawerLayout())},n.renderDrawerLayout=function(){var e=n.props,t=e.classes,a=e.match,r=e.location,i=e.user,s=e.onLogout;return o.a.createElement(o.a.Fragment,null,o.a.createElement(In.a,null,o.a.createElement(_n.a,null,o.a.createElement(gn.a,{className:t.avatar},i.name.charAt(0))),o.a.createElement(yn.a,{primary:i.name,secondary:o.a.createElement(o.a.Fragment,null,i.email,null!=i.area&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),"Area tecnica ",i.area.name))})),o.a.createElement("div",{tabIndex:0,role:"button",onClick:n.closeDrawer,onKeyDown:n.closeDrawer},o.a.createElement(Cn.a,{className:t.drawerItems},zi(i.roles).map(function(e,t){return o.a.createElement(In.a,{key:t,button:!0,selected:r.pathname.startsWith("".concat(a.url).concat(e.routePath)),onClick:function(){return n.onSectionClicked(e.tabs.length>0?"".concat(a.url).concat(e.routePath,"/").concat(e.tabs[0].value):"".concat(a.url).concat(e.routePath))}},o.a.createElement(_n.a,null,e.drawerIcon),o.a.createElement(yn.a,{primary:e.label}))}),o.a.createElement(Kt.h,null),o.a.createElement(In.a,{onClick:s,button:!0},o.a.createElement(_n.a,null,o.a.createElement(Mn.a,null)),o.a.createElement(yn.a,{primary:"Logout"})))))},n.openDrawer=function(){n.setState({isDrawerOpen:!0})},n.closeDrawer=function(){n.setState({isDrawerOpen:!1})},n.onSectionClicked=function(e){n.props.history.push(e)},n.state={isDrawerOpen:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(mn.a,{className:e.appBar,position:"static"},o.a.createElement(Dn.a,null,o.a.createElement(On.a,{className:e.menuButton,color:"inherit","aria-label":"Open drawer",onClick:this.openDrawer},o.a.createElement(Pn.a,null)),o.a.createElement(g.a,{className:e.toolbarTitle,variant:"h6",color:"inherit",noWrap:!0},"Authorization Manager")),this.renderTabsRoutes()),o.a.createElement("aside",null,o.a.createElement(hn.a,{mdUp:!0,implementation:"css"},this.renderMobileDrawer()),o.a.createElement(hn.a,{smDown:!0,implementation:"css"},this.renderDesktopDrawer())))}}]),t}(i.Component);oo.displayName="Navigation";var so=Object(a.withStyles)(function(e){return{root:{display:"flex"},appBar:Object(M.a)({},e.breakpoints.up("md"),{marginLeft:"300px",width:"calc(100% - ".concat("300px",")")}),drawer:{width:"300px"},menuButton:Object(M.a)({marginRight:20},e.breakpoints.up("md"),{display:"none"}),toolbarTitle:Object(M.a)({},e.breakpoints.up("md"),{marginLeft:16}),avatar:{margin:-8,backgroundColor:Ji()},drawerItems:{width:"auto"}}})(oo),lo=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.requestCurrentUserInfo(this.props.accessToken)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.accessToken,a=e.user,r=e.performLogout,i=e.isSessionExpired,s=e.requestCurrentUserInfo,l=Object(Qt.a)(e,["classes","accessToken","user","performLogout","isSessionExpired","requestCurrentUserInfo"]);return o.a.createElement(o.a.Fragment,null,a.infoObtained?o.a.createElement(o.a.Fragment,null,o.a.createElement(so,Object.assign({},l,{user:a,onLogout:function(){return r(n)}})),o.a.createElement("main",{className:t.content},this.renderContentSubRoutes())):o.a.createElement(o.a.Fragment,null,o.a.createElement(nn,null),o.a.createElement(Kt.c,{open:a.serverError,classes:{paper:t.errorDialog},disableBackdropClick:!0,disableEscapeKeyDown:!0},o.a.createElement(Kt.e,null,o.a.createElement(Kt.f,{className:t.errorDialogText},"Non \xe8 stato possibile ottenere i dati relativi al tuo utente. Riprova o contatta l'amministratore se il problema persiste.")),o.a.createElement(Kt.d,null,o.a.createElement(Kt.a,{className:t.errorDialogText,onClick:function(){return s(n)}},"Riprova"),o.a.createElement(Kt.a,{className:t.errorDialogText,onClick:function(){return r(n)}},"Logout")))),o.a.createElement(Kt.c,{open:i,disableBackdropClick:!0,disableEscapeKeyDown:!0},o.a.createElement(Kt.e,null,o.a.createElement(Kt.f,null,"La tua sessione \xe8 scaduta. Effettua nuovamente il login.")),o.a.createElement(Kt.d,null,o.a.createElement(Kt.a,{className:t.dialogButton,onClick:function(){return r()}},"Vai alla pagina di login"))))}},{key:"renderContentSubRoutes",value:function(){var e=this.props,t=e.user,n=e.match;return o.a.createElement(Wt.d,null,zi(t.roles).map(function(e,t){if(e.tabs.length>0){var a=e.tabs.map(function(t){return o.a.createElement(Wt.b,{path:"".concat(n.url).concat(e.routePath,"/").concat(t.value),exact:!0,component:t.component})});return a.push(o.a.createElement(Wt.a,{from:"".concat(n.url).concat(e.routePath),to:"".concat(n.url).concat(e.routePath,"/").concat(e.tabs[0].value)})),a}return o.a.createElement(Wt.b,{key:t,path:"".concat(n.url).concat(e.routePath),exact:!0,component:e.component})}),o.a.createElement(Wt.a,{to:"".concat(n.url).concat(Xi(t.roles[0]))}))}}]),t}(i.Component);lo.displayName="Home";var co=Object(a.withStyles)(function(e){return{root:{display:"flex"},content:Object(M.a)({},e.breakpoints.up("md"),{marginLeft:"calc(".concat("300px",")"),width:"calc(100% - ".concat("300px",")")}),errorDialog:{backgroundColor:e.palette.error.dark},errorDialogText:{color:"white"},dialogButton:{color:e.palette.primary.main}}})(Object(Bt.b)(function(e){return{accessToken:e.auth.accessToken,isSessionExpired:e.auth.isSessionExpired,user:e.user}},function(e){return Object(D.b)({performLogout:j,requestCurrentUserInfo:Te},e)})(lo)),uo=n(126),Eo=n.n(uo),mo=n(88),po=n.n(mo),go=n(216),Ro=n.n(go),So=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(E.a)(this,Object(d.a)(t).call(this,e))).onInputChanged=function(e,t){var a;n.setState((a={},Object(M.a)(a,e,t.target.value),Object(M.a)(a,"usernameError",!1),Object(M.a)(a,"passwordError",!1),a))},n.onLoginButtonClicked=function(){var e=n.state,t=e.username,a=e.password;n.textFieldsAreValidated()&&n.props.attemptLogin(t,a)},n.onEnterKeyClicked=function(e){"Enter"===e.key&&n.onLoginButtonClicked()},n.textFieldsAreValidated=function(){var e=n.state,t=e.username,a=e.password,r=0===t.length,i=0===a.length;return!r&&!i||(n.setState({usernameError:r,passwordError:i}),!1)},n.state={username:"",password:"",usernameError:!1,passwordError:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.isAttemptingLogin,r=this.state,i=r.username,s=r.password,l=r.usernameError,c=r.passwordError;return o.a.createElement(Kt.i,{className:n.root,container:!0,justify:"center",alignItems:"center"},o.a.createElement(Eo.a,{className:n.card,onKeyDown:this.onEnterKeyClicked},o.a.createElement(Kt.i,{className:n.cardRoot,container:!0,spacing:24},o.a.createElement(Kt.i,{item:!0,xs:12},o.a.createElement(Kt.i,{container:!0,justify:"center",alignContent:"center",spacing:8},o.a.createElement(Kt.i,{item:!0},o.a.createElement("img",{className:n.logo,src:Ro.a,alt:"Logo IBT"})),o.a.createElement(Kt.i,{item:!0,xs:12,className:n.welcomeText},o.a.createElement(g.a,{variant:"subtitle1",color:"textSecondary"},"Benvenuto in Authorization Manager")))),o.a.createElement(Kt.i,{item:!0,xs:12},o.a.createElement(gi.a,{style:{marginBottom:-8},error:l,fullWidth:!0},o.a.createElement(Mr.a,{label:"Username",type:"text",variant:"outlined",error:l,autoFocus:!0,value:i,onChange:function(t){return e.onInputChanged("username",t)}}),l&&o.a.createElement(po.a,null,"Devi inserire uno username"))),o.a.createElement(Kt.i,{item:!0,xs:12},o.a.createElement(gi.a,{error:c,fullWidth:!0},o.a.createElement(Mr.a,{label:"Password",type:"password",variant:"outlined",error:c,value:s,onChange:function(t){return e.onInputChanged("password",t)}}),c&&o.a.createElement(po.a,null,"Devi inserire una password"))),o.a.createElement(Kt.i,{item:!0,xs:12},o.a.createElement(Kt.i,{container:!0,justify:"flex-end",alignContent:"center"},o.a.createElement(Kt.i,{item:!0},o.a.createElement(aa.a,{className:n.loginButton,disabled:a,size:"large",variant:"contained",color:"secondary",onClick:this.onLoginButtonClicked,onKeyPress:this.onLoginButtonClicked},"Login")))))),o.a.createElement(Kt.i,{item:!0,xs:12,className:n.footer},o.a.createElement(g.a,{variant:"caption",color:"inherit"},"Realizzato da"," ",o.a.createElement("a",{className:n.link,href:"http://www.ibttn.it"},"Informatica Bancaria Trentina")," ","in collaborazione con alcuni studenti dell'",o.a.createElement("a",{className:n.link,href:"http://www.buonarroti.tn.it"},"I.T.T. Buonarroti-Pozzo"),".",o.a.createElement("br",null),"Questo software \xe8"," ",o.a.createElement("a",{className:n.link,href:"https://github.com/AUMTeam/aum-frontend"},"open-source")," ","e rilasciato sotto licenza MIT.")))}}]),t}(i.Component);So.displayName="Login";var To=Object(a.withStyles)({root:{flexGrow:1,position:"absolute",height:"100%"},card:{maxWidth:512,margin:16,overflow:"visible"},cardRoot:{padding:16},loginButton:{width:56},footer:{color:"grey",textAlign:"center",alignSelf:"flex-end",padding:"0 16px 16px"},link:{color:"inherit"},logo:{width:"130px"},welcomeText:{textAlign:"center"}})(Object(Bt.b)(function(e){return{isAttemptingLogin:e.auth.isAttemptingLogin}},function(e){return Object(D.b)({attemptLogin:U},e)})(So)),ho=function(e){var t=e.condition,n=e.component,a=e.redirectPath,r=Object(Qt.a)(e,["condition","component","redirectPath"]);return o.a.createElement(Wt.b,Object.assign({},r,{render:function(e){return t()?o.a.createElement(n,e):o.a.createElement(Wt.a,{to:{pathname:a}})}}))},bo=function(e){function t(){return Object(c.a)(this,t),Object(E.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(C);null!=e?this.props.requestLocalTokenValidation(e):this.props.notifyLocalTokenNotFound()}},{key:"render",value:function(){var e=this.props,t=e.isValidatingToken,n=e.accessToken,a=e.classes,r=e.globalError;return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(nn,null):o.a.createElement(Yt.a,null,o.a.createElement(Wt.d,null,o.a.createElement(ho,{condition:function(){return null!=n},exact:!0,path:an,component:co,redirectPath:rn}),o.a.createElement(ho,{condition:function(){return null==n},path:rn,component:To,redirectPath:on}),o.a.createElement(ho,{condition:function(){return null!=n},path:on,component:co,redirectPath:rn}))),r&&o.a.createElement(Kt.c,{classes:{paper:a.errorDialog},disableBackdropClick:!0,disableEscapeKeyDown:!0,open:!0},o.a.createElement(Kt.e,null,o.a.createElement(Kt.f,{className:a.errorDialogText},"Si \xe8 verificato un errore irreversibile nella back-logic dell'applicazione. Per tornare ad utilizzarla, ricarica la pagina.",o.a.createElement("br",null),"Se sei uno sviluppatore, consulta la console di debug per ulteriori dettagli.")),o.a.createElement(Kt.d,null,o.a.createElement(Kt.a,{className:a.errorDialogText,onClick:function(){return window.location.reload()}},"Ricarica"))))}}]),t}(i.Component);bo.displayName="Routes";var Oo=Object(a.withStyles)(function(e){return{errorDialog:{backgroundColor:e.palette.error.dark},errorDialogText:{color:"white"}}})(Object(Bt.b)(function(e){return{accessToken:e.auth.accessToken,isValidatingToken:e.auth.isValidatingToken,globalError:e.globalError}},function(e){return Object(D.b)({requestLocalTokenValidation:F,notifyLocalTokenNotFound:function(){return{type:P.LOCAL_TOKEN_NOT_FOUND}}},e)})(bo));var fo=Object(a.createMuiTheme)({palette:{common:{black:"#000000",white:"#ffffff"},background:{paper:"#ffffff",default:"#fafafa"},primary:{light:"#58a5f0",main:"#0277bd",dark:"#004c8c",contrastText:"#ffffff"},secondary:{light:"#ffff6b",main:"#fdd835",dark:"#c6a700",contrastText:"#000000"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#ffffff"},approved:"#2eb72c"},typography:{useNextVariants:!0}}),Co=O(function(){return o.a.createElement(a.MuiThemeProvider,{theme:fo},o.a.createElement(r.SnackbarProvider,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"center"}},o.a.createElement(Ht,null,o.a.createElement(Oo,null))))});l.a.render(o.a.createElement(Co,null),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.5b6546e3.chunk.js.map